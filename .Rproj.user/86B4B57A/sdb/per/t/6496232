{
    "contents" : "\n\nScen.test <- Mtg.ScenarioAnalysis(scenario.set = c(\"NC\", \"UA100\", \"UA150\"), bond.id = \"bondlabMBS4\", original.bal = 100000, \n                                  trade.date = \"01-10-2013\", settlement.date = \"01-13-2013\", price = 106, \n                                  PrepaymentAssumption = \"MODEL\")\n\n\nrates.data <- readRDS(paste(\"~/BondLab/RatesData/\", \"01-10-2013\", \".rds\", sep = \"\"))\n\n#This is how I access the class Scenario Set\nplot((1-(1-bondlabMBS55@Scenario[2][[1]]@SMM)^12)*100, type = \"l\")\n\n#This is how I access the class Scenario Set\nplot((1-(1-bondlabMBS55@SMM)^12)*100, type = \"l\")\n\n#This is how I access the class Scenario Set\nplot((1-(1-bondlabMBS4@Scenario[3][[1]]@SMM)^12)*100, type = \"l\")\n\nbondlabMBS4@Scenario[2][[1]]@YieldToMaturity\n\n\nbondlabMBS4@Scenario[6][[1]]@SpreadToInterCurve\n\n#test scenario add\nrates <- Rates\nrates[1,2:9] = as.character(as.numeric(Rates[1,2:9]) + 1)\n\n# ------ These are the engines that will be factored into Bond Lab call -------\n\nPassThroughAnalytics(bond.id = \"bondlabMBS4\", original.bal = 100000, price = 100, trade.date = \"01-10-2013\", \n                     settlement.date = \"01-13-2013\", scenario.set  = c(\"UA100\", \"UA150\"),\n                     PrepaymentAssumption = \"PPC\", begin.cpr = .2, end.cpr = 6, seasoning.period = 30)\n\nPassThroughAnalytics(bond.id = \"bondlabMBS4\", original.bal = 100000, price = 100, trade.date = \"01-10-2013\", \n                     settlement.date = \"01-13-2013\",  scenario.set = c(\"UA100\", \"UA150\"),\n                     PrepaymentAssumption = \"CPR\", CPR = 6)\n\nbondlabMBS4 <- PassThroughAnalytics(bond.id = \"bondlabMBS4\", original.bal = 100000, price = 105.75, trade.date = \"01-10-2013\", \n                     settlement.date = \"01-13-2013\", scenario.set = c(\"DA50\", \"NC\", \"UA50\", \"UA100\", \"UA150\", \"UA200\"),\n                    PrepaymentAssumption = \"MODEL\")\n\nbondlabMBS55 <- PassThroughAnalytics(bond.id = \"bondlabMBS55\", original.bal = 100000, price = 107.50, trade.date = \"01-10-2013\", \n                                    settlement.date = \"01-13-2013\", scenario.set = c(\"DA50\", \"NC\", \"UA50\", \"UA100\", \"UA150\", \"UA200\"),\n                                    PrepaymentAssumption = \"MODEL\")\n\nsystem.time(PassThroughAnalytics(bond.id = \"bondlabMBS4\", original.bal = 100000, price = 107.5, trade.date = \"01-10-2013\", \n                     settlement.date = \"01-13-2013\", scenario.set = c(\"DA50\", \"NC\", \"UA50\", \"UA100\", \"UA150\", \"UA200\"),\n                     PrepaymentAssumption = \"MODEL\"))\n\n\nBondAnalytics(bond.id = \"bondlab10\", principal = 1000, price = 100, trade.date = \"01-10-2013\", settlement.date = \"01-15-2013\", method = \"ns\")\n\nDollarRollAnalytics(bond.id = \"bondlabMBS55\", trade.date = \"01-10-2013\", settlement.date = \"01-14-2013\", \n                    fwd.settlement.date = \"02-12-2013\", original.bal = 1250000, price = 102.84375, \n                    reinvestment.rate = 0.21/100, finance.rate = 0.31/100, drop = .375, PrepaymentAssumption = \"CPR\", CPR = 30)\n\n# ---------- Scenario Statistics ----------------------\n\n  ExtractScenario <- function(bond.id = character){\n  \n  ScenarioName = list()\n  ScenarioCPR = list()\n  ScenarioYieldToMaturity = list()\n  ScenarioSpreadToCurve = list()\n  ScenarioWAL = list()\n  ScenarioModDuration = list()\n  \n  for(i in 1:6){\n    ScenarioName = append(ScenarioName,bond.id@Scenario[i][[1]]@Name)\n    ScenarioCPR = append(ScenarioCPR,  SMMVector.To.CPR(bond.id@Scenario[i][[1]]@SMM, length(bond.id@Scenario[i][[1]]@SMM)) * 100)  \n    ScenarioYieldToMaturity = append(ScenarioYieldToMaturity, bond.id@Scenario[i][[1]]@YieldToMaturity * 100)\n    ScenarioSpreadToCurve = append(ScenarioSpreadToCurve, bond.id@Scenario[i][[1]]@SpreadToInterCurve)\n    ScenarioWAL = append(ScenarioWAL, bond.id@Scenario[i][[1]]@WAL)\n    ScenarioModDuration = append(ScenarioModDuration, bond.id@Scenario[i][[1]]@ModDuration)\n  \n  }\n  Result <- cbind(ScenarioName, ScenarioCPR, ScenarioYieldToMaturity, ScenarioSpreadToCurve, ScenarioWAL, ScenarioModDuration)\n  return(Result)\n  }\n\nxtable(t(ExtractScenario(bondlabMBS4)), digits = 2)\n\nxtable(t(ExtractScenario(bondlabMBS55)), digits = 2)\n\n\npmodel <- readRDS(\"FH30.Generic.rds\")\n\nplot(Burnout(beta1 = -.01, beta2 = -.01, MaxIncen = bondlabMBS4@BurnoutVector, LoanAge = LA))\n\nplot((1-(1-Borrower.Incentive(bondlabMBS55@Incentive, .025, .019, -4, 1))^12) * \n       Burnout(beta1 = -.01, beta2 = -.01, MaxIncen = bondlabMBS55@BurnoutVector, LoanAge = LA))\n\n\n\nIncen <- rep(0,360)\n\ntest <- Prepayment.Model(ModelTune = Tune, LoanAge = LA, Month = Month, \n                         incentive = Incen, Burnout.maxincen = 25)\n\nplot((1-((1-test)^12))*100, type = \"l\")\n\nplot(Burnout(beta1 = -.01, beta2 = -.01, MaxIncen = 25, LoanAge = LA ))",
    "created" : 1397871331623.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "4142036885",
    "id" : "6496232",
    "lastKnownWriteTime" : 1398391164,
    "path" : "~/Documents/Investing in Mortgage Backed Securities/Tex-1/chapters/Chapter10/chapter11 beginning.R",
    "project_path" : null,
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_source"
}