AmortizationType = "fixed",
AmortizationTerm = 30,
Index = "None",
Margin = 0,
FirstPmtDate = "01-01-2013",
FinalPmtDate = "01-01-2043",
Servicing = 0.25,
PMI = 0.25,
Gfee = 0.25,
InitialInterest = "no",
InterestOnlyPeriod = 0,
FirstPrinPaymentDate = "1-01-2013",
BalloonPmt = "no",
BalloonDate = "00-00-0000",
MBSFactor = 1,
Model = "FH30.Generic",
Burnout = 25,
SATO = 0.75
)
MortgageRate <- new("MortgageRate",
yr30 = function(two = numeric(), ten = numeric(), sato = numeric()) {
2.25 + (.06 * two) + (.75 * ten) + sato
},
yr15 = function(two = numeric(), ten = numeric()){
1.75 + (.06 * two) + (.75 * ten) + sato
}
)
rm(MortgageRate)
MakePrepaymentTune(ModelName = "FH30.Generic.T",
TurnoverRate = 0.08,
Turnover.alpha = 1.0,
Turnover.beta = 0.87,
Turnover.theta = 0.192,
Seasonality.alpha = 0.15,
Seasonality.theta = 12.0,
Incentive.Fast.theta.1 = 0.025,
Incentive.Fast.theta.2 = 0.019,
Incentive.Fast.beta = -4.0,
Incentive.Fast.eta = 1.0,
Incentive.Slow.theta.1 = 0.001,
Incentive.Slow.theta.2 = 0.004,
Incentive.Slow.beta = -1.0,
Incentive.Slow.eta = 0.5,
Burnout.beta.1 = -.01,
Burnout.beta.2 = -.01)
MakePrepaymentTune(ModelName = "FH30.Generic.T",
TurnoverRate = 0.08,
Turnover.alpha = 1.0,
Turnover.beta = 0.87,
Turnover.theta = 0.192,
Seasonality.alpha = 0.15,
Seasonality.theta = 12.0,
Incentive.Fast.theta.1 = 0.025,
Incentive.Fast.theta.2 = 0.019,
Incentive.Fast.beta = -4.0,
Incentive.Fast.eta = 1.0,
Incentive.Slow.theta.1 = 0.001,
Incentive.Slow.theta.2 = 0.004,
Incentive.Slow.beta = -1.0,
Incentive.Slow.eta = 0.5,
Burnout.beta.1 = -.01,
Burnout.beta.2 = -.01)
new(PassThroughAnalytics)
new("PassThroughAnalytics")
getClass("PassThroughAnalytics")
test <- getClass("PassThroughAnalytics")
test <- getClass("PassThroughAnalytics")
getClass("PassThroughAnalytics")
getClass("PassThroughAnalytics")
getClass("PassThroughAnalytics")
getClass("PassThroughOAS")
setClass("PassThroughOAS",
representaton())
setClass("PassThroughOAS",
representation())
getClass("PassThroughOAS")
getClass("MBSDetails")
getClass("MBSCashFlows")
getClass("MBSCashFlow")
getClass("MortgageCashFlows")
getClass("MBSDetails")
getClass("PassThroughAnalytics")
contains = c())
})
MortgageRate <- new("MortgageRate",
yr30 = function(two = numeric(), ten = numeric(), sato = numeric()) {
2.25 + (.06 * two) + (.75 * ten) + sato
},
yr15 = function(two = numeric(), ten = numeric()){
1.75 + (.06 * two) + (.75 * ten) + sato
}
)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
TermStructure <- TermStructure(rates.data = rates.data, method = method)
TermStructure = TermStructure(rates.data = "~\RatesData\2013-01-10.rds", method = "ns")
TermStructure = TermStructure(rates.data = "~\BondLab\RatesData\2013-01-10.rds", method = "ns")
setwd("~/BondLab/RatesData")
setwd("~/BondLab")
TermStructure = TermStructure(rates.data = "~/BondLab/RatesData/2013-01-10.rds", method = "ns")
TermStructure = TermStructure(rates.data = "~/BondLab/RatesData/2013-01-10.rds", method = "ns")
TermStructure <- TermStructure(rates.data = "~/BondLab/RatesData/2013-01-10.rds", method = "ns")
test <- readRDS("~/BondLab/RatesData/2013-01-10.rds")
TermStructure <- TermStructure(rates.data = readRDS("~/BondLab/RatesData/2013-01-10.rds"), method = "ns")
rm(test)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
detach("package:BondLab", unload=TRUE)
library("BondLab", lib.loc="/Library/Frameworks/R.framework/Versions/3.0/Resources/library")
library(BondLab)
install.packages("ggplot2")
install.packages("ggplot2")
install.packages("ggplot2")
install.packages("ggplot2")
library("BondLab", lib.loc="/Library/Frameworks/R.framework/Versions/3.0/Resources/library")
library(BondLab)
detach("package:BondLab", unload=TRUE)
library("BondLab", lib.loc="/Library/Frameworks/R.framework/Versions/3.0/Resources/library")
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
getClass("MBSDetails")
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
set.seed(300)
system.time(MBS55.OAS <- PassThroughOAS(bond.id = "bondlabMBS55", trade.date = "01-10-2013", settlement.date = "01-13-2013", original.bal = 100000,
price = 107.5, short.rate = 0.0016, sigma = 0.015, paths = 5000, PrepaymentAssumption = "MODEL"))
library(BondLab)
set.seed(300)
system.time(MBS55.OAS <- PassThroughOAS(bond.id = "bondlabMBS55", trade.date = "01-10-2013", settlement.date = "01-13-2013", original.bal = 100000,
price = 107.5, short.rate = 0.0016, sigma = 0.015, paths = 5000, PrepaymentAssumption = "MODEL"))
library(BondLab)
library(BondLab)
set.seed(300)
system.time(MBS55.OAS <- PassThroughOAS(bond.id = "bondlabMBS55", trade.date = "01-10-2013", settlement.date = "01-13-2013", original.bal = 100000,
price = 107.5, short.rate = 0.0016, sigma = 0.015, paths = 5000, PrepaymentAssumption = "MODEL"))
library(BondLab)
library(BondLab)
set.seed(300)
system.time(MBS55.OAS <- PassThroughOAS(bond.id = "bondlabMBS55", trade.date = "01-10-2013", settlement.date = "01-13-2013", original.bal = 100000,
price = 107.5, short.rate = 0.0016, sigma = 0.015, paths = 5000, PrepaymentAssumption = "MODEL"))
library(BondLab)
library(BondLab)
set.seed(300)
system.time(MBS55.OAS <- PassThroughOAS(bond.id = "bondlabMBS55", trade.date = "01-10-2013", settlement.date = "01-13-2013", original.bal = 100000,
price = 107.5, short.rate = 0.0016, sigma = 0.015, paths = 5000, PrepaymentAssumption = "MODEL"))
52000/(34)*12
52000/(340*12)
52000/(340*8)
library(BondLab)
library(BondLab)
library(BondLab)
set.seed(300)
system.time(MBS55.OAS <- PassThroughOAS(bond.id = "bondlabMBS55", trade.date = "01-10-2013", settlement.date = "01-13-2013", original.bal = 100000,
price = 107.5, short.rate = 0.0016, sigma = 0.015, paths = 200, PrepaymentAssumption = "MODEL"))
library(BondLab)
set.seed(300)
system.time(MBS55.OAS <- PassThroughOAS(bond.id = "bondlabMBS55", trade.date = "01-10-2013", settlement.date = "01-13-2013", original.bal = 100000,
price = 107.5, short.rate = 0.0016, sigma = 0.015, paths = 200, PrepaymentAssumption = "MODEL"))
library(BondLab)
set.seed(300)
MBS4.OAS <- PassThroughOAS(bond.id = "bondlabMBS4", trade.date = "01-10-2013", settlement.date = "01-13-2013", original.bal = 100000,
price = 105.75, short.rate = 0.0016, sigma = 0.015, paths = 5000, PrepaymentAssumption = "MODEL")
library(BondLab)
library(BondLab)
set.seed(300)
MBS4.OAS <- PassThroughOAS(bond.id = "bondlabMBS4", trade.date = "01-10-2013", settlement.date = "01-13-2013", original.bal = 100000,
price = 105.75, short.rate = 0.0016, sigma = 0.015, paths = 5000, PrepaymentAssumption = "MODEL")
library(BondLab)
library(BondLab)
library(BondLab)
set.seed(300)
MBS4.OAS <- PassThroughOAS(bond.id = "bondlabMBS4", trade.date = "01-10-2013", settlement.date = "01-13-2013", original.bal = 100000,
price = 105.75, short.rate = 0.0016, sigma = 0.015, paths = 5000, PrepaymentAssumption = "MODEL")
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
set.seed(300)
MBS4.OAS <- PassThroughOAS(bond.id = "bondlabMBS4", trade.date = "01-10-2013", settlement.date = "01-13-2013", original.bal = 100000,
price = 105.75, short.rate = 0.0016, sigma = 0.015, paths = 5000, PrepaymentAssumption = "MODEL")
bondlabMBS4 <- PassThroughAnalytics(bond.id = "bondlabMBS4", original.bal = 100000, price = 105.75, trade.date = "01-10-2013",
settlement.date = "01-13-2013", scenario.set = c("NC"),
PrepaymentAssumption = "CPR", CPR = 6)
library(BondLab)
bondlabMBS4 <- PassThroughAnalytics(bond.id = "bondlabMBS4", original.bal = 100000, price = 105.75, trade.date = "01-10-2013",
settlement.date = "01-13-2013", scenario.set = c("NC"),
PrepaymentAssumption = "CPR", CPR = 6)
set.seed(300)
MBS4.OAS <- PassThroughOAS(bond.id = "bondlabMBS4", trade.date = "01-10-2013", settlement.date = "01-13-2013", original.bal = 100000,
price = 105.75, short.rate = 0.0016, sigma = 0.015, paths = 5000, PrepaymentAssumption = "MODEL")
library(BondLab)
set.seed(300)
MBS4.OAS <- PassThroughOAS(bond.id = "bondlabMBS4", trade.date = "01-10-2013", settlement.date = "01-13-2013", original.bal = 100000,
price = 105.75, short.rate = 0.0016, sigma = 0.015, paths = 5000, PrepaymentAssumption = "MODEL")
library(BondLab)
library(BondLab)
set.seed(300)
MBS4.OAS <- PassThroughOAS(bond.id = "bondlabMBS4", trade.date = "01-10-2013", settlement.date = "01-13-2013", original.bal = 100000,
price = 105.75, short.rate = 0.0016, sigma = 0.015, paths = 5000, PrepaymentAssumption = "MODEL")
library(BondLab)
set.seed(300)
MBS4.OAS <- PassThroughOAS(bond.id = "bondlabMBS4", trade.date = "01-10-2013", settlement.date = "01-13-2013", original.bal = 100000,
price = 105.75, short.rate = 0.0016, sigma = 0.015, paths = 5000, PrepaymentAssumption = "MODEL")
set.seed(300)
MBS4.OAS <- PassThroughOAS(bond.id = "bondlabMBS4", trade.date = "01-10-2013", settlement.date = "01-13-2013", original.bal = 100000,
price = 105.75, short.rate = 0.0016, sigma = 0.015, paths = 5000, PrepaymentAssumption = "MODEL")
library(BondLab)
library(BondLab)
set.seed(300)
MBS4.OAS <- PassThroughOAS(bond.id = "bondlabMBS4", trade.date = "01-10-2013", settlement.date = "01-13-2013", original.bal = 100000,
price = 105.75, short.rate = 0.0016, sigma = 0.015, paths = 5000, PrepaymentAssumption = "MODEL")
library(BondLab)
library(BondLab)
set.seed(300)
MBS4.OAS <- PassThroughOAS(bond.id = "bondlabMBS4", trade.date = "01-10-2013", settlement.date = "01-13-2013", original.bal = 100000,
price = 105.75, short.rate = 0.0016, sigma = 0.015, paths = 5000, PrepaymentAssumption = "MODEL")
BondCashFlows
library(BondLab)
library(BondLab)
set.seed(300)
MBS4.OAS <- PassThroughOAS(bond.id = "bondlabMBS4", trade.date = "01-10-2013", settlement.date = "01-13-2013", original.bal = 100000,
price = 105.75, short.rate = 0.0016, sigma = 0.015, paths = 5000, PrepaymentAssumption = "MODEL")
set.seed(300)
MBS4.OAS <- PassThroughOAS(bond.id = "bondlabMBS4", trade.date = "01-10-2013", settlement.date = "01-13-2013", original.bal = 100000,
price = 105.75, short.rate = 0.0016, sigma = 0.015, paths = 5000, PrepaymentAssumption = "MODEL")
library(BondLab)
set.seed(300)
MBS4.OAS <- PassThroughOAS(bond.id = "bondlabMBS4", trade.date = "01-10-2013", settlement.date = "01-13-2013", original.bal = 100000,
price = 105.75, short.rate = 0.0016, sigma = 0.015, paths = 5000, PrepaymentAssumption = "MODEL")
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
MakeMBSDetails( Cusip = "23456789",
ID = "bondlabMBS4",
BondType = "MBS",
Sector = "MBS",
Coupon = 4.0,
IssueDate = "01-01-2013",
DatedDate = "01-01-2013",
Maturity = "01-01-2043",
LastPmtDate = "01-01-2013",
NextPmtDate = "02-01-2013",
PaymentDelay = 24,
Moody = "Aaa",
SP = "AAA",
BondLab = "Aaa",
Frequency = 12,
BondBasis = "30360",
GWac = 4.75,
AmortizationType = "fixed",
AmortizationTerm = 30,
Index = "None",
Margin = 0,
FirstPmtDate = "01-01-2013",
FinalPmtDate = "01-01-2043",
Servicing = 0.25,
PMI = 0.25,
Gfee = 0.25,
InitialInterest = "no",
InterestOnlyPeriod = 0,
FirstPrinPaymentDate = "1-01-2013",
BalloonPmt = "no",
BalloonDate = "00-00-0000",
MBSFactor = 1,
Model = "FH30.Generic",
Burnout = 25,
SATO = 0.75
)
library(BondLab)
MakeMBSDetails( Cusip = "23456789",
ID = "bondlabMBS4",
BondType = "MBS",
Sector = "MBS",
Coupon = 4.0,
IssueDate = "01-01-2013",
DatedDate = "01-01-2013",
Maturity = "01-01-2043",
LastPmtDate = "01-01-2013",
NextPmtDate = "02-01-2013",
PaymentDelay = 24,
Moody = "Aaa",
SP = "AAA",
BondLab = "Aaa",
Frequency = 12,
BondBasis = "30360",
GWac = 4.75,
AmortizationType = "fixed",
AmortizationTerm = 30,
Index = "None",
Margin = 0,
FirstPmtDate = "01-01-2013",
FinalPmtDate = "01-01-2043",
Servicing = 0.25,
PMI = 0.25,
Gfee = 0.25,
InitialInterest = "no",
InterestOnlyPeriod = 0,
FirstPrinPaymentDate = "1-01-2013",
BalloonPmt = "no",
BalloonDate = "00-00-0000",
MBSFactor = 1,
Model = "FH30.Generic",
Burnout = 25,
SATO = 0.75)
MakeMBSDetails( Cusip = "23456789",
ID = "bondlabMBS4",
BondType = "MBS",
Sector = "MBS",
Coupon = 4.0,
IssueDate = "01-01-2013",
DatedDate = "01-01-2013",
Maturity = "01-01-2043",
LastPmtDate = "01-01-2013",
NextPmtDate = "02-01-2013",
PaymentDelay = 24,
Moody = "Aaa",
SP = "AAA",
BondLab = "Aaa",
Frequency = 12,
BondBasis = "30360",
GWac = 4.75,
AmortizationType = "fixed",
AmortizationTerm = 30,
Index = "None",
Margin = 0,
FirstPmtDate = "01-01-2013",
FinalPmtDate = "01-01-2043",
Servicing = 0.25,
PMI = 0.25,
Gfee = 0.25,
InitialInterest = "no",
InterestOnlyPeriod = 0,
FirstPrinPaymentDate = "1-01-2013",
BalloonPmt = "no",
BalloonDate = "00-00-0000",
MBSFactor = 1,
Model = "FH30.Generic",
Burnout = 25,
SATO = 0.75)
library(BondLab)
library(BondLab)
library(BondLab)
set.seed(300)
MBS4.OAS <- PassThroughOAS(bond.id = "bondlabMBS4", trade.date = "01-10-2013", settlement.date = "01-13-2013", original.bal = 100000,
price = 105.75, short.rate = 0.0016, sigma = 0.015, paths = 5000, PrepaymentAssumption = "MODEL")
set.seed(300)
MBS4.OAS <- PassThroughOAS(bond.id = "bondlabMBS4", trade.date = "01-10-2013", settlement.date = "01-13-2013", original.bal = 100000,
price = 105.75, short.rate = 0.0016, sigma = 0.015, paths = 5000, PrepaymentAssumption = "MODEL")
library(BondLab)
set.seed(300)
MBS4.OAS <- PassThroughOAS(bond.id = "bondlabMBS4", trade.date = "01-10-2013", settlement.date = "01-13-2013", original.bal = 100000,
price = 105.75, short.rate = 0.0016, sigma = 0.015, paths = 5000, PrepaymentAssumption = "MODEL")
library(BondLab)
MakeMBSDetails( Cusip = "23456789",
ID = "bondlabMBS4",
BondType = "MBS",
Sector = "MBS",
Coupon = 4.0,
IssueDate = "01-01-2013",
DatedDate = "01-01-2013",
Maturity = "01-01-2043",
LastPmtDate = "01-01-2013",
NextPmtDate = "02-01-2013",
PaymentDelay = 24,
Moody = "Aaa",
SP = "AAA",
BondLab = "Aaa",
Frequency = 12,
BondBasis = "30360",
GWac = 4.75,
AmortizationType = "fixed",
AmortizationTerm = 30,
Index = "None",
Margin = 0,
FirstPmtDate = "01-01-2013",
FinalPmtDate = "01-01-2043",
Servicing = 0.25,
PMI = 0.25,
Gfee = 0.25,
InitialInterest = "no",
InterestOnlyPeriod = 0,
FirstPrinPaymentDate = "1-01-2013",
BalloonPmt = "no",
BalloonDate = "00-00-0000",
MBSFactor = 1,
Model = "FH30.Generic",
Burnout = 25,
SATO = 0.75)
set.seed(300)
MBS4.OAS <- PassThroughOAS(bond.id = "bondlabMBS4", trade.date = "01-10-2013", settlement.date = "01-13-2013", original.bal = 100000,
price = 105.75, short.rate = 0.0016, sigma = 0.015, paths = 5000, PrepaymentAssumption = "MODEL")
library(BondLab)
set.seed(300)
MBS4.OAS <- PassThroughOAS(bond.id = "bondlabMBS4", trade.date = "01-10-2013", settlement.date = "01-13-2013", original.bal = 100000,
price = 105.75, short.rate = 0.0016, sigma = 0.015, paths = 5000, PrepaymentAssumption = "MODEL")
set.seed(300)
MBS4.OAS <- PassThroughOAS(bond.id = "bondlabMBS4", trade.date = "01-10-2013", settlement.date = "01-13-2013", original.bal = 100000,
price = 105.75, short.rate = 0.0016, sigma = 0.015, paths = 5000, PrepaymentAssumption = "MODEL")
library(BondLab)
library(BondLab)
set.seed(300)
MBS4.OAS <- PassThroughOAS(bond.id = "bondlabMBS4", trade.date = "01-10-2013", settlement.date = "01-13-2013", original.bal = 100000,
price = 105.75, short.rate = 0.0016, sigma = 0.015, paths = 5000, PrepaymentAssumption = "MODEL")
set.seed(300)
MBS4.OAS <- PassThroughOAS(bond.id = "bondlabMBS4", trade.date = "01-10-2013", settlement.date = "01-13-2013", original.bal = 100000,
price = 105.75, short.rate = 0.0016, sigma = 0.015, paths = 5000, PrepaymentAssumption = "MODEL")
library(BondLab)
set.seed(300)
MBS4.OAS <- PassThroughOAS(bond.id = "bondlabMBS4", trade.date = "01-10-2013", settlement.date = "01-13-2013", original.bal = 100000,
price = 105.75, short.rate = 0.0016, sigma = 0.015, paths = 5000, PrepaymentAssumption = "MODEL")
set.seed(300)
MBS4.OAS <- PassThroughOAS(bond.id = "bondlabMBS4", trade.date = "01-10-2013", settlement.date = "01-13-2013", original.bal = 100000,
price = 105.75, short.rate = 0.0016, sigma = 0.015, paths = 5000, PrepaymentAssumption = "MODEL")
debug(PassThroughOAS)
set.seed(300)
MBS4.OAS <- PassThroughOAS(bond.id = "bondlabMBS4", trade.date = "01-10-2013", settlement.date = "01-13-2013", original.bal = 100000,
price = 105.75, short.rate = 0.0016, sigma = 0.015, paths = 5000, PrepaymentAssumption = "MODEL")
set.seed(300)
MBS4.OAS <- PassThroughOAS(bond.id = "bondlabMBS4", trade.date = "01-10-2013", settlement.date = "01-13-2013", original.bal = 100000,
price = 105.75, short.rate = 0.0016, sigma = 0.015, paths = 5000, PrepaymentAssumption = "MODEL")
library(BondLab)
set.seed(300)
MBS4.OAS <- PassThroughOAS(bond.id = "bondlabMBS4", trade.date = "01-10-2013", settlement.date = "01-13-2013", original.bal = 100000,
price = 105.75, short.rate = 0.0016, sigma = 0.015, paths = 5000, PrepaymentAssumption = "MODEL")
