library(BondLab)
cite("methods")
citation("methods")
citation("optimx")
citation("ggplot")
citation("ggplot2")
citation("optimx")
library(BondLab)
Key.Rate.Duration <- PassThroughAnalytics(bond.id = "bondlabMBS4",
original.bal = 100000,
price = 100,
trade.date = "01-02-2013",
settlement.date = "01-05-2013",
PrepaymentAssumption = "MODEL",
scenario.set = c("NC"),
begin.cpr = .2, end.cpr = 6,
seasoning.period = 30, CPR = 10)
Key.Rate.Duration <- cbind(Key.Rate.Duration@KeyRateTenor, Key.Rate.Duration@KeyRateDuration)
colnames(Key.Rate.Duration) <- c("Tenor", "Duration")
Key.Rate.Duration <- as.data.frame(Key.Rate.Duration)
ggplot(Key.Rate.Duration, aes(x = as.factor(Tenor), y = Duration, fill = as.factor(Tenor))) +
geom_bar(stat = "identity")+
theme_minimal()+
theme(panel.grid.major = element_line(size = .25, color = "grey"))+
geom_bar(stat = "identity") +
scale_fill_manual(values = cbbPalette, guide = "none") +
ylab("Key Rate Duration") +
xlab("Key Rate Tenor (years)") +
theme(axis.text = element_text(size = 15)) +
theme(axis.title = element_text(size = 20))
library("ggplot2", lib.loc="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
Key.Rate.Duration <- PassThroughAnalytics(bond.id = "bondlabMBS4",
original.bal = 100000,
price = 100,
trade.date = "01-02-2013",
settlement.date = "01-05-2013",
PrepaymentAssumption = "MODEL",
scenario.set = c("NC"),
begin.cpr = .2, end.cpr = 6,
seasoning.period = 30, CPR = 10)
Key.Rate.Duration <- cbind(Key.Rate.Duration@KeyRateTenor, Key.Rate.Duration@KeyRateDuration)
colnames(Key.Rate.Duration) <- c("Tenor", "Duration")
Key.Rate.Duration <- as.data.frame(Key.Rate.Duration)
ggplot(Key.Rate.Duration, aes(x = as.factor(Tenor), y = Duration, fill = as.factor(Tenor))) +
geom_bar(stat = "identity")+
theme_minimal()+
theme(panel.grid.major = element_line(size = .25, color = "grey"))+
geom_bar(stat = "identity") +
scale_fill_manual(values = cbbPalette, guide = "none") +
ylab("Key Rate Duration") +
xlab("Key Rate Tenor (years)") +
theme(axis.text = element_text(size = 15)) +
theme(axis.title = element_text(size = 20))
cbbPalette <- c("#E69F00",
"#56B4E9",
"#009E73",
"#F0E442",
"#0072B2",
"#D55E00",
"#CC79A7",
"#000000",
"#E69F00",
"#56B4E9",
"#009E73",
"#F0E442",
"#0072B2",
"#D55E00",
"#CC79A7",
"#000000"
)
require(ggplot2)
require(termstrc)
Key.Rate.Duration <- PassThroughAnalytics(bond.id = "bondlabMBS4",
original.bal = 100000,
price = 100,
trade.date = "01-02-2013",
settlement.date = "01-05-2013",
PrepaymentAssumption = "MODEL",
scenario.set = c("NC"),
begin.cpr = .2, end.cpr = 6,
seasoning.period = 30, CPR = 10)
Key.Rate.Duration <- cbind(Key.Rate.Duration@KeyRateTenor, Key.Rate.Duration@KeyRateDuration)
colnames(Key.Rate.Duration) <- c("Tenor", "Duration")
Key.Rate.Duration <- as.data.frame(Key.Rate.Duration)
ggplot(Key.Rate.Duration, aes(x = as.factor(Tenor), y = Duration, fill = as.factor(Tenor))) +
geom_bar(stat = "identity")+
theme_minimal()+
theme(panel.grid.major = element_line(size = .25, color = "grey"))+
geom_bar(stat = "identity") +
scale_fill_manual(values = cbbPalette, guide = "none") +
ylab("Key Rate Duration") +
xlab("Key Rate Tenor (years)") +
theme(axis.text = element_text(size = 15)) +
theme(axis.title = element_text(size = 20))
Key.Rate.Duration <- PassThroughAnalytics(bond.id = "bondlabMBS4",
original.bal = 100000,
price = 100,
trade.date = "01-02-2013",
settlement.date = "01-05-2013",
PrepaymentAssumption = "MODEL",
scenario.set = c("NC"),
begin.cpr = .2, end.cpr = 6,
seasoning.period = 30, CPR = 10)
Key.Rate.Duration <- cbind(Key.Rate.Duration@KeyRateTenor, Key.Rate.Duration@KeyRateDuration)
colnames(Key.Rate.Duration) <- c("Tenor", "Duration")
Key.Rate.Duration <- as.data.frame(Key.Rate.Duration)
ggplot(Key.Rate.Duration, aes(x = as.factor(Tenor), y = Duration, fill = as.factor(Tenor))) +
geom_bar(stat = "identity")+
theme_minimal()+
theme(panel.grid.major = element_line(size = .25, color = "grey"))+
geom_bar(stat = "identity") +
scale_fill_manual(values = cbbPalette, guide = "none") +
ylab("Key Rate Duration") +
xlab("Key Rate Tenor (years)") +
theme(axis.text = element_text(size = 15)) +
theme(axis.title = element_text(size = 20))
View(Key.Rate.Duration)
library(BondLab)
Key.Rate.Duration <- PassThroughAnalytics(bond.id = "bondlabMBS4",
original.bal = 100000,
price = 100,
trade.date = "01-02-2013",
settlement.date = "01-05-2013",
PrepaymentAssumption = "MODEL",
scenario.set = c("NC"),
begin.cpr = .2, end.cpr = 6,
seasoning.period = 30, CPR = 10)
Key.Rate.Duration <- cbind(Key.Rate.Duration@KeyRateTenor, Key.Rate.Duration@KeyRateDuration)
colnames(Key.Rate.Duration) <- c("Tenor", "Duration")
Key.Rate.Duration <- as.data.frame(Key.Rate.Duration)
ggplot(Key.Rate.Duration, aes(x = as.factor(Tenor), y = Duration, fill = as.factor(Tenor))) +
geom_bar(stat = "identity")+
theme_minimal()+
theme(panel.grid.major = element_line(size = .25, color = "grey"))+
geom_bar(stat = "identity") +
scale_fill_manual(values = cbbPalette, guide = "none") +
ylab("Key Rate Duration") +
xlab("Key Rate Tenor (years)") +
theme(axis.text = element_text(size = 15)) +
theme(axis.title = element_text(size = 20))
library(BondLab)
Key.Rate.Duration <- PassThroughAnalytics(bond.id = "bondlabMBS5",
original.bal = 100000,
price = 100,
trade.date = "01-02-2013",
settlement.date = "01-05-2013",
PrepaymentAssumption = "MODEL",
scenario.set = c("NC"),
begin.cpr = .2, end.cpr = 6,
seasoning.period = 30, CPR = 10)
Key.Rate.Duration <- cbind(Key.Rate.Duration@KeyRateTenor, Key.Rate.Duration@KeyRateDuration)
colnames(Key.Rate.Duration) <- c("Tenor", "Duration")
Key.Rate.Duration <- as.data.frame(Key.Rate.Duration)
ggplot(Key.Rate.Duration, aes(x = as.factor(Tenor), y = Duration, fill = as.factor(Tenor))) +
geom_bar(stat = "identity")+
theme_minimal()+
theme(panel.grid.major = element_line(size = .25, color = "grey"))+
geom_bar(stat = "identity") +
scale_fill_manual(values = cbbPalette, guide = "none") +
ylab("Key Rate Duration") +
xlab("Key Rate Tenor (years)") +
theme(axis.text = element_text(size = 15)) +
theme(axis.title = element_text(size = 20))
Key.Rate.Duration <- PassThroughAnalytics(bond.id = "bondlabMBS5",
original.bal = 100000,
price = 100,
trade.date = "01-02-2013",
settlement.date = "01-05-2013",
PrepaymentAssumption = "MODEL",
scenario.set = c("NC"),
begin.cpr = .2, end.cpr = 6,
seasoning.period = 30, CPR = 10)
Key.Rate.Duration <- cbind(Key.Rate.Duration@KeyRateTenor, Key.Rate.Duration@KeyRateDuration)
colnames(Key.Rate.Duration) <- c("Tenor", "Duration")
Key.Rate.Duration <- as.data.frame(Key.Rate.Duration)
ggplot(Key.Rate.Duration, aes(x = as.factor(Tenor), y = Duration, fill = as.factor(Tenor))) +
geom_bar(stat = "identity")+
theme_minimal()+
theme(panel.grid.major = element_line(size = .25, color = "grey"))+
geom_bar(stat = "identity") +
scale_fill_manual(values = cbbPalette, guide = "none") +
ylab("Key Rate Duration") +
xlab("Key Rate Tenor (years)") +
theme(axis.text = element_text(size = 15)) +
theme(axis.title = element_text(size = 20))
Key.Rate.Duration <- PassThroughAnalytics(bond.id = "bondlabMBS55",
original.bal = 100000,
price = 100,
trade.date = "01-02-2013",
settlement.date = "01-05-2013",
PrepaymentAssumption = "MODEL",
scenario.set = c("NC"),
begin.cpr = .2, end.cpr = 6,
seasoning.period = 30, CPR = 10)
Key.Rate.Duration <- cbind(Key.Rate.Duration@KeyRateTenor, Key.Rate.Duration@KeyRateDuration)
colnames(Key.Rate.Duration) <- c("Tenor", "Duration")
Key.Rate.Duration <- as.data.frame(Key.Rate.Duration)
ggplot(Key.Rate.Duration, aes(x = as.factor(Tenor), y = Duration, fill = as.factor(Tenor))) +
geom_bar(stat = "identity")+
theme_minimal()+
theme(panel.grid.major = element_line(size = .25, color = "grey"))+
geom_bar(stat = "identity") +
scale_fill_manual(values = cbbPalette, guide = "none") +
ylab("Key Rate Duration") +
xlab("Key Rate Tenor (years)") +
theme(axis.text = element_text(size = 15)) +
theme(axis.title = element_text(size = 20))
library(BondLab)
Key.Rate.Duration <- PassThroughAnalytics(bond.id = "bondlabMBS4",
original.bal = 100000,
price = 104,
trade.date = "01-02-2013",
settlement.date = "01-05-2013",
PrepaymentAssumption = "MODEL",
scenario.set = c("NC"),
begin.cpr = .2, end.cpr = 6,
seasoning.period = 30, CPR = 10)
Key.Rate.Duration <- cbind(Key.Rate.Duration@KeyRateTenor, Key.Rate.Duration@KeyRateDuration)
colnames(Key.Rate.Duration) <- c("Tenor", "Duration")
Key.Rate.Duration <- as.data.frame(Key.Rate.Duration)
ggplot(Key.Rate.Duration, aes(x = as.factor(Tenor), y = Duration, fill = as.factor(Tenor))) +
geom_bar(stat = "identity")+
theme_minimal()+
theme(panel.grid.major = element_line(size = .25, color = "grey"))+
geom_bar(stat = "identity") +
scale_fill_manual(values = cbbPalette, guide = "none") +
ylab("Key Rate Duration") +
xlab("Key Rate Tenor (years)") +
theme(axis.text = element_text(size = 15)) +
theme(axis.title = element_text(size = 20))
library("Companion2IMBS", lib.loc="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
Chapter.3()
library("Companion2IMBS", lib.loc="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
Chapter.3()
Chapter.3()
Chapter.3()
detach("package:Companion2IMBS", unload=TRUE)
library("Companion2IMBS", lib.loc="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
Chapter.3()
library(BondLab)
Chapter.3()
library(BondLab)
library(BondLab)
MBS(MBS.id = "bondlabMBS4")
library("BondLab", lib.loc="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
MBS(MBS.id = "bondlabMBS4")
test <- xtable(MBS(MBS.id = "bondlabMBS4"))
library("xtable", lib.loc="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
test <- xtable(MBS(MBS.id = "bondlabMBS4"))
#graph 22.6
ggplot()+
scale_x_continuous(limits = c(0,12)) +
scale_y_continuous(limits = c(0,12)) +
theme_minimal() +
theme(line = element_blank(),
text = element_blank(),
line = element_blank(),
title = element_blank(),
plot.margin = unit(c(0, 0, 0, 0), "cm")) +
# Issuing Trust Bond and Label
annotate("rect", xmin = 2.5, xmax = 8.5, ymin = 9.5, ymax = 11.5, fill = "#D55E00", alpha = .85) +
annotate("text", x = 5.25, y = 10.5, label = c("Issuing Trust")) +
# Supplemental Intrest Box and Label
annotate("rect", xmin = 0, xmax = 4, ymin = 7, ymax = 9, fill = "#E69F00", alpha = .85) +
annotate("text", x = 2, y = 8, label = c("Supplemental \n Interest Trust")) +
#Swap Provider Box and Label
annotate("rect", xmin = 7, xmax = 11, ymin = 7 , ymax = 9, fill = "#E69F00", alpha = .85) +
annotate("text", x = 9, y = 8, label = c("Swap Provider")) +
geom_segment(aes(x= 7 , y =8.5, xend = 4, yend = 8.5), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.5, y = 9, label = c("Floating Pmt.")) +
geom_segment(aes(x= 4 , y =7.5, xend = 7, yend = 7.5), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.5, y = 7, label = c("Fixed Pmt.")) +
geom_segment(aes(x= 2 , y = 3, xend = 2, yend = 2), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("rect", xmin = 0, xmax = 4, ymin = 3, ymax = 5, fill = "#56B4E9", alpha = .85) +
annotate("rect", xmin = 0, xmax = 4, ymin = 0, ymax = 2, fill = "#F0E443", alpha = .85) +
annotate("text", x = 2, y = 4, label = c("Distribution \n Account")) +
annotate("text", x = 2, y = 1, label = c("Class \n Certificates")) +
geom_segment(aes(x= 2 , y = 7, xend = 2, yend = 5), arrow = arrow(length = unit(0.2, "cm"))) +
geom_segment(aes(x= 9 , y = 3, xend = 9, yend = 2), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("rect", xmin = 7, xmax = 11, ymin = 3, ymax = 5, fill = "#56B4E9", alpha = .85) +
annotate("rect", xmin = 7, xmax = 11, ymin = 0, ymax = 2, fill = "#F0E443", alpha = .85) +
annotate("text", x = 9, y = 4, label = c("Distribution \n Account")) +
annotate("text", x = 9, y = 1, label = c("Class \n Certificates")) +
geom_segment(aes(x= 9 , y = 5, xend = 9, yend = 5.5)) +
geom_segment(aes(x= 3 , y = 5.5, xend = 9, yend = 5.5)) +
#geom_segment(aes(x= 3 , y = 5.5, xend = 3, yend = 7), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.75, y = 6, label = c("First Pay Supplemental Interest Account"), fontface = "italic", size = 4) +
geom_segment(aes(x= 6.5 , y = 4.5, xend = 7, yend = 4.5)) +
geom_segment(aes(x= 6.5 , y = 4.5, xend = 6.5, yend = 1)) +
geom_segment(aes(x= 6.5 , y = 1, xend = 7, yend = 1), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.5, y = .5, label = c("Second Pay Certifcates"), fontface = "italic", size = 4)
library("ggplot2", lib.loc="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
#graph 22.6
ggplot()+
scale_x_continuous(limits = c(0,12)) +
scale_y_continuous(limits = c(0,12)) +
theme_minimal() +
theme(line = element_blank(),
text = element_blank(),
line = element_blank(),
title = element_blank(),
plot.margin = unit(c(0, 0, 0, 0), "cm")) +
# Issuing Trust Bond and Label
annotate("rect", xmin = 2.5, xmax = 8.5, ymin = 9.5, ymax = 11.5, fill = "#D55E00", alpha = .85) +
annotate("text", x = 5.25, y = 10.5, label = c("Issuing Trust")) +
# Supplemental Intrest Box and Label
annotate("rect", xmin = 0, xmax = 4, ymin = 7, ymax = 9, fill = "#E69F00", alpha = .85) +
annotate("text", x = 2, y = 8, label = c("Supplemental \n Interest Trust")) +
#Swap Provider Box and Label
annotate("rect", xmin = 7, xmax = 11, ymin = 7 , ymax = 9, fill = "#E69F00", alpha = .85) +
annotate("text", x = 9, y = 8, label = c("Swap Provider")) +
geom_segment(aes(x= 7 , y =8.5, xend = 4, yend = 8.5), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.5, y = 9, label = c("Floating Pmt.")) +
geom_segment(aes(x= 4 , y =7.5, xend = 7, yend = 7.5), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.5, y = 7, label = c("Fixed Pmt.")) +
geom_segment(aes(x= 2 , y = 3, xend = 2, yend = 2), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("rect", xmin = 0, xmax = 4, ymin = 3, ymax = 5, fill = "#56B4E9", alpha = .85) +
annotate("rect", xmin = 0, xmax = 4, ymin = 0, ymax = 2, fill = "#F0E443", alpha = .85) +
annotate("text", x = 2, y = 4, label = c("Distribution \n Account")) +
annotate("text", x = 2, y = 1, label = c("Class \n Certificates")) +
geom_segment(aes(x= 2 , y = 7, xend = 2, yend = 5), arrow = arrow(length = unit(0.2, "cm"))) +
geom_segment(aes(x= 9 , y = 3, xend = 9, yend = 2), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("rect", xmin = 7, xmax = 11, ymin = 3, ymax = 5, fill = "#56B4E9", alpha = .85) +
annotate("rect", xmin = 7, xmax = 11, ymin = 0, ymax = 2, fill = "#F0E443", alpha = .85) +
annotate("text", x = 9, y = 4, label = c("Distribution \n Account")) +
annotate("text", x = 9, y = 1, label = c("Class \n Certificates")) +
geom_segment(aes(x= 9 , y = 5, xend = 9, yend = 5.5)) +
geom_segment(aes(x= 3 , y = 5.5, xend = 9, yend = 5.5)) +
#geom_segment(aes(x= 3 , y = 5.5, xend = 3, yend = 7), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.75, y = 6, label = c("First Pay Supplemental Interest Account"), fontface = "italic", size = 4) +
geom_segment(aes(x= 6.5 , y = 4.5, xend = 7, yend = 4.5)) +
geom_segment(aes(x= 6.5 , y = 4.5, xend = 6.5, yend = 1)) +
geom_segment(aes(x= 6.5 , y = 1, xend = 7, yend = 1), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.5, y = .5, label = c("Second Pay Certifcates"), fontface = "italic", size = 4)
library("grid", lib.loc="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
#graph 22.6
ggplot()+
scale_x_continuous(limits = c(0,12)) +
scale_y_continuous(limits = c(0,12)) +
theme_minimal() +
theme(line = element_blank(),
text = element_blank(),
line = element_blank(),
title = element_blank(),
plot.margin = unit(c(0, 0, 0, 0), "cm")) +
# Issuing Trust Bond and Label
annotate("rect", xmin = 2.5, xmax = 8.5, ymin = 9.5, ymax = 11.5, fill = "#D55E00", alpha = .85) +
annotate("text", x = 5.25, y = 10.5, label = c("Issuing Trust")) +
# Supplemental Intrest Box and Label
annotate("rect", xmin = 0, xmax = 4, ymin = 7, ymax = 9, fill = "#E69F00", alpha = .85) +
annotate("text", x = 2, y = 8, label = c("Supplemental \n Interest Trust")) +
#Swap Provider Box and Label
annotate("rect", xmin = 7, xmax = 11, ymin = 7 , ymax = 9, fill = "#E69F00", alpha = .85) +
annotate("text", x = 9, y = 8, label = c("Swap Provider")) +
geom_segment(aes(x= 7 , y =8.5, xend = 4, yend = 8.5), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.5, y = 9, label = c("Floating Pmt.")) +
geom_segment(aes(x= 4 , y =7.5, xend = 7, yend = 7.5), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.5, y = 7, label = c("Fixed Pmt.")) +
geom_segment(aes(x= 2 , y = 3, xend = 2, yend = 2), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("rect", xmin = 0, xmax = 4, ymin = 3, ymax = 5, fill = "#56B4E9", alpha = .85) +
annotate("rect", xmin = 0, xmax = 4, ymin = 0, ymax = 2, fill = "#F0E443", alpha = .85) +
annotate("text", x = 2, y = 4, label = c("Distribution \n Account")) +
annotate("text", x = 2, y = 1, label = c("Class \n Certificates")) +
geom_segment(aes(x= 2 , y = 7, xend = 2, yend = 5), arrow = arrow(length = unit(0.2, "cm"))) +
geom_segment(aes(x= 9 , y = 3, xend = 9, yend = 2), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("rect", xmin = 7, xmax = 11, ymin = 3, ymax = 5, fill = "#56B4E9", alpha = .85) +
annotate("rect", xmin = 7, xmax = 11, ymin = 0, ymax = 2, fill = "#F0E443", alpha = .85) +
annotate("text", x = 9, y = 4, label = c("Distribution \n Account")) +
annotate("text", x = 9, y = 1, label = c("Class \n Certificates")) +
geom_segment(aes(x= 9 , y = 5, xend = 9, yend = 5.5)) +
geom_segment(aes(x= 3 , y = 5.5, xend = 9, yend = 5.5)) +
#geom_segment(aes(x= 3 , y = 5.5, xend = 3, yend = 7), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.75, y = 6, label = c("First Pay Supplemental Interest Account"), fontface = "italic", size = 4) +
geom_segment(aes(x= 6.5 , y = 4.5, xend = 7, yend = 4.5)) +
geom_segment(aes(x= 6.5 , y = 4.5, xend = 6.5, yend = 1)) +
geom_segment(aes(x= 6.5 , y = 1, xend = 7, yend = 1), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.5, y = .5, label = c("Second Pay Certifcates"), fontface = "italic", size = 4)
#graph 22.6
ggplot()+
scale_x_continuous(limits = c(0,12)) +
scale_y_continuous(limits = c(0,12)) +
theme_minimal() +
theme(line = element_blank(),
text = element_blank(),
line = element_blank(),
title = element_blank(),
plot.margin = unit(c(0, 0, 0, 0), "cm")) +
# Issuing Trust Bond and Label
annotate("rect", xmin = 2.5, xmax = 8.5, ymin = 9.5, ymax = 11.5, fill = "#D55E00", alpha = .85) +
annotate("text", x = 5.25, y = 10.5, label = c("Issuing Trust")) +
# Supplemental Intrest Box and Label
annotate("rect", xmin = 0, xmax = 4, ymin = 7, ymax = 9, fill = "#E69F00", alpha = .85) +
annotate("text", x = 2, y = 8, label = c("Supplemental \n Interest Trust")) +
#Swap Provider Box and Label
annotate("rect", xmin = 7, xmax = 11, ymin = 7 , ymax = 9, fill = "#E69F00", alpha = .85) +
annotate("text", x = 9, y = 8, label = c("Swap Provider")) +
geom_segment(aes(x= 7 , y =8.5, xend = 4, yend = 8.5), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.5, y = 9, label = c("Floating Pmt.")) +
geom_segment(aes(x= 4 , y =7.5, xend = 7, yend = 7.5), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.5, y = 7, label = c("Fixed Pmt.")) +
geom_segment(aes(x= 2 , y = 3, xend = 2, yend = 2), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("rect", xmin = 0, xmax = 4, ymin = 3, ymax = 5, fill = "#56B4E9", alpha = .85) +
annotate("rect", xmin = 0, xmax = 4, ymin = 0, ymax = 2, fill = "#F0E443", alpha = .85) +
annotate("text", x = 2, y = 4, label = c("Distribution \n Account")) +
annotate("text", x = 2, y = 1, label = c("Class \n Certificates")) +
geom_segment(aes(x= 2 , y = 7, xend = 2, yend = 5), arrow = arrow(length = unit(0.2, "cm"))) +
geom_segment(aes(x= 9 , y = 3, xend = 9, yend = 2), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("rect", xmin = 7, xmax = 11, ymin = 3, ymax = 5, fill = "#56B4E9", alpha = .85) +
annotate("rect", xmin = 7, xmax = 11, ymin = 0, ymax = 2, fill = "#F0E443", alpha = .85) +
annotate("text", x = 9, y = 4, label = c("Distribution \n Account")) +
annotate("text", x = 9, y = 1, label = c("Class \n Certificates")) +
geom_segment(aes(x= 9 , y = 5, xend = 9, yend = 5.5)) +
geom_segment(aes(x= 3 , y = 5.5, xend = 9, yend = 5.5)) +
geom_segment(aes(x= 3 , y = 5.5, xend = 3, yend = 7), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.75, y = 6, label = c("First Pay Supplemental Interest Account"), fontface = "italic", size = 4) +
geom_segment(aes(x= 6.5 , y = 4.5, xend = 7, yend = 4.5)) +
geom_segment(aes(x= 6.5 , y = 4.5, xend = 6.5, yend = 1)) +
#geom_segment(aes(x= 6.5 , y = 1, xend = 7, yend = 1), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.5, y = .5, label = c("Second Pay Certifcates"), fontface = "italic", size = 4)
#graph 22.6
ggplot()+
scale_x_continuous(limits = c(0,12)) +
scale_y_continuous(limits = c(0,12)) +
theme_minimal() +
theme(line = element_blank(),
text = element_blank(),
line = element_blank(),
title = element_blank(),
plot.margin = unit(c(0, 0, 0, 0), "cm")) +
# Issuing Trust Bond and Label
annotate("rect", xmin = 2.5, xmax = 8.5, ymin = 9.5, ymax = 11.5, fill = "#D55E00", alpha = .85) +
annotate("text", x = 5.25, y = 10.5, label = c("Issuing Trust")) +
# Supplemental Intrest Box and Label
annotate("rect", xmin = 0, xmax = 4, ymin = 7, ymax = 9, fill = "#E69F00", alpha = .85) +
annotate("text", x = 2, y = 8, label = c("Supplemental \n Interest Trust")) +
#Swap Provider Box and Label
annotate("rect", xmin = 7, xmax = 11, ymin = 7 , ymax = 9, fill = "#E69F00", alpha = .85) +
annotate("text", x = 9, y = 8, label = c("Swap Provider")) +
geom_segment(aes(x= 7 , y =8.5, xend = 4, yend = 8.5), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.5, y = 9, label = c("Floating Pmt.")) +
geom_segment(aes(x= 4 , y =7.5, xend = 7, yend = 7.5), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.5, y = 7, label = c("Fixed Pmt.")) +
geom_segment(aes(x= 2 , y = 3, xend = 2, yend = 2), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("rect", xmin = 0, xmax = 4, ymin = 3, ymax = 5, fill = "#56B4E9", alpha = .85) +
annotate("rect", xmin = 0, xmax = 4, ymin = 0, ymax = 2, fill = "#F0E443", alpha = .85) +
annotate("text", x = 2, y = 4, label = c("Distribution \n Account")) +
annotate("text", x = 2, y = 1, label = c("Class \n Certificates")) +
geom_segment(aes(x= 2 , y = 7, xend = 2, yend = 5), arrow = arrow(length = unit(0.2, "cm"))) +
geom_segment(aes(x= 9 , y = 3, xend = 9, yend = 2), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("rect", xmin = 7, xmax = 11, ymin = 3, ymax = 5, fill = "#56B4E9", alpha = .85) +
annotate("rect", xmin = 7, xmax = 11, ymin = 0, ymax = 2, fill = "#F0E443", alpha = .85) +
annotate("text", x = 9, y = 4, label = c("Distribution \n Account")) +
annotate("text", x = 9, y = 1, label = c("Class \n Certificates")) +
geom_segment(aes(x= 9 , y = 5, xend = 9, yend = 5.5)) +
geom_segment(aes(x= 3 , y = 5.5, xend = 9, yend = 5.5)) +
#geom_segment(aes(x= 3 , y = 5.5, xend = 3, yend = 7), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.75, y = 6, label = c("First Pay Supplemental Interest Account"), fontface = "italic", size = 4) +
geom_segment(aes(x= 6.5 , y = 4.5, xend = 7, yend = 4.5)) +
geom_segment(aes(x= 6.5 , y = 4.5, xend = 6.5, yend = 1)) +
geom_segment(aes(x= 6.5 , y = 1, xend = 7, yend = 1), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.5, y = .5, label = c("Second Pay Certifcates"), fontface = "italic", size = 4)
#graph 22.6
ggplot()+
scale_x_continuous(limits = c(0,12)) +
scale_y_continuous(limits = c(0,12)) +
theme_minimal() +
theme(line = element_blank(),
text = element_blank(),
line = element_blank(),
title = element_blank(),
plot.margin = unit(c(0, 0, 0, 0), "cm")) +
# Issuing Trust Bond and Label
annotate("rect", xmin = 2.5, xmax = 8.5, ymin = 9.5, ymax = 11.5, fill = "#D55E00", alpha = .85) +
annotate("text", x = 5.25, y = 10.5, label = c("Issuing Trust")) +
# Supplemental Intrest Box and Label
annotate("rect", xmin = 0, xmax = 4, ymin = 7, ymax = 9, fill = "#E69F00", alpha = .85) +
annotate("text", x = 2, y = 8, label = c("Supplemental \n Interest Trust")) +
#Swap Provider Box and Label
annotate("rect", xmin = 7, xmax = 11, ymin = 7 , ymax = 9, fill = "#E69F00", alpha = .85) +
annotate("text", x = 9, y = 8, label = c("Swap Provider")) +
geom_segment(aes(x= 7 , y =8.5, xend = 4, yend = 8.5), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.5, y = 9, label = c("Floating Pmt.")) +
geom_segment(aes(x= 4 , y =7.5, xend = 7, yend = 7.5), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.5, y = 7, label = c("Fixed Pmt.")) +
geom_segment(aes(x= 2 , y = 3, xend = 2, yend = 2), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("rect", xmin = 0, xmax = 4, ymin = 3, ymax = 5, fill = "#56B4E9", alpha = .85) +
annotate("rect", xmin = 0, xmax = 4, ymin = 0, ymax = 2, fill = "#F0E443", alpha = .85) +
annotate("text", x = 2, y = 4, label = c("Distribution \n Account")) +
annotate("text", x = 2, y = 1, label = c("Class \n Certificates")) +
geom_segment(aes(x= 2 , y = 7, xend = 2, yend = 5), arrow = arrow(length = unit(0.2, "cm"))) +
#geom_segment(aes(x= 9 , y = 3, xend = 9, yend = 2), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("rect", xmin = 7, xmax = 11, ymin = 3, ymax = 5, fill = "#56B4E9", alpha = .85) +
annotate("rect", xmin = 7, xmax = 11, ymin = 0, ymax = 2, fill = "#F0E443", alpha = .85) +
annotate("text", x = 9, y = 4, label = c("Distribution \n Account")) +
annotate("text", x = 9, y = 1, label = c("Class \n Certificates")) +
geom_segment(aes(x= 9 , y = 5, xend = 9, yend = 5.5)) +
geom_segment(aes(x= 3 , y = 5.5, xend = 9, yend = 5.5)) +
geom_segment(aes(x= 3 , y = 5.5, xend = 3, yend = 7), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.75, y = 6, label = c("First Pay Supplemental Interest Account"), fontface = "italic", size = 4) +
geom_segment(aes(x= 6.5 , y = 4.5, xend = 7, yend = 4.5)) +
geom_segment(aes(x= 6.5 , y = 4.5, xend = 6.5, yend = 1)) +
geom_segment(aes(x= 6.5 , y = 1, xend = 7, yend = 1), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.5, y = .5, label = c("Second Pay Certifcates"), fontface = "italic", size = 4)
(5.42 * 24* -7.55) + (0.17 * 81.75 * 7.13)
(5.42 * 24* -7.55) + (0.17 * 81.75 * 12.13)
(5.42 * 24* -7.55) + (0.17 * 81.75 * 12.13)
(5.42 * 24* -7.55) + (0.17 * 81.75 * 12.13) /(105 * 7.13)
(5.42 * 24* -7.55) + (0.17 * 81.75 * 12.13)
(5.42 * 24* -7.55) + (0.17 * 81.75 * 12.13)/(105.75 * 7.13)
(5.42 * 24* -7.55)
(5.42 * 24* -7.55) + (0.17 * 81.75 * 12.13)
library("BondLab", lib.loc="/Library/Frameworks/R.framework/Versions/3.0/Resources/library")
