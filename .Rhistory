#graph 22.6
ggplot()+
scale_x_continuous(limits = c(0,12)) +
scale_y_continuous(limits = c(0,12)) +
theme_minimal() +
theme(line = element_blank(),
text = element_blank(),
line = element_blank(),
title = element_blank(),
plot.margin = unit(c(0, 0, 0, 0), "cm")) +
# Issuing Trust Bond and Label
annotate("rect", xmin = 2.5, xmax = 8.5, ymin = 9.5, ymax = 11.5, fill = "#D55E00", alpha = .85) +
annotate("text", x = 5.25, y = 10.5, label = c("Issuing Trust")) +
# Supplemental Intrest Box and Label
annotate("rect", xmin = 0, xmax = 4, ymin = 7, ymax = 9, fill = "#E69F00", alpha = .85) +
annotate("text", x = 2, y = 8, label = c("Supplemental \n Interest Trust")) +
#Swap Provider Box and Label
annotate("rect", xmin = 7, xmax = 11, ymin = 7 , ymax = 9, fill = "#E69F00", alpha = .85) +
annotate("text", x = 9, y = 8, label = c("Swap Provider")) +
geom_segment(aes(x= 7 , y =8.5, xend = 4, yend = 8.5), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.5, y = 9, label = c("Floating Pmt.")) +
geom_segment(aes(x= 4 , y =7.5, xend = 7, yend = 7.5), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.5, y = 7, label = c("Fixed Pmt.")) +
geom_segment(aes(x= 2 , y = 3, xend = 2, yend = 2), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("rect", xmin = 0, xmax = 4, ymin = 3, ymax = 5, fill = "#56B4E9", alpha = .85) +
annotate("rect", xmin = 0, xmax = 4, ymin = 0, ymax = 2, fill = "#F0E443", alpha = .85) +
annotate("text", x = 2, y = 4, label = c("Distribution \n Account")) +
annotate("text", x = 2, y = 1, label = c("Class \n Certificates")) +
geom_segment(aes(x= 2 , y = 7, xend = 2, yend = 5), arrow = arrow(length = unit(0.2, "cm"))) +
geom_segment(aes(x= 9 , y = 3, xend = 9, yend = 2), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("rect", xmin = 7, xmax = 11, ymin = 3, ymax = 5, fill = "#56B4E9", alpha = .85) +
annotate("rect", xmin = 7, xmax = 11, ymin = 0, ymax = 2, fill = "#F0E443", alpha = .85) +
annotate("text", x = 9, y = 4, label = c("Distribution \n Account")) +
annotate("text", x = 9, y = 1, label = c("Class \n Certificates")) +
geom_segment(aes(x= 9 , y = 5, xend = 9, yend = 5.5)) +
geom_segment(aes(x= 3 , y = 5.5, xend = 9, yend = 5.5)) +
#geom_segment(aes(x= 3 , y = 5.5, xend = 3, yend = 7), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.75, y = 6, label = c("First Pay Supplemental Interest Account"), fontface = "italic", size = 4) +
geom_segment(aes(x= 6.5 , y = 4.5, xend = 7, yend = 4.5)) +
geom_segment(aes(x= 6.5 , y = 4.5, xend = 6.5, yend = 1)) +
geom_segment(aes(x= 6.5 , y = 1, xend = 7, yend = 1), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.5, y = .5, label = c("Second Pay Certifcates"), fontface = "italic", size = 4)
library("grid", lib.loc="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
#graph 22.6
ggplot()+
scale_x_continuous(limits = c(0,12)) +
scale_y_continuous(limits = c(0,12)) +
theme_minimal() +
theme(line = element_blank(),
text = element_blank(),
line = element_blank(),
title = element_blank(),
plot.margin = unit(c(0, 0, 0, 0), "cm")) +
# Issuing Trust Bond and Label
annotate("rect", xmin = 2.5, xmax = 8.5, ymin = 9.5, ymax = 11.5, fill = "#D55E00", alpha = .85) +
annotate("text", x = 5.25, y = 10.5, label = c("Issuing Trust")) +
# Supplemental Intrest Box and Label
annotate("rect", xmin = 0, xmax = 4, ymin = 7, ymax = 9, fill = "#E69F00", alpha = .85) +
annotate("text", x = 2, y = 8, label = c("Supplemental \n Interest Trust")) +
#Swap Provider Box and Label
annotate("rect", xmin = 7, xmax = 11, ymin = 7 , ymax = 9, fill = "#E69F00", alpha = .85) +
annotate("text", x = 9, y = 8, label = c("Swap Provider")) +
geom_segment(aes(x= 7 , y =8.5, xend = 4, yend = 8.5), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.5, y = 9, label = c("Floating Pmt.")) +
geom_segment(aes(x= 4 , y =7.5, xend = 7, yend = 7.5), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.5, y = 7, label = c("Fixed Pmt.")) +
geom_segment(aes(x= 2 , y = 3, xend = 2, yend = 2), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("rect", xmin = 0, xmax = 4, ymin = 3, ymax = 5, fill = "#56B4E9", alpha = .85) +
annotate("rect", xmin = 0, xmax = 4, ymin = 0, ymax = 2, fill = "#F0E443", alpha = .85) +
annotate("text", x = 2, y = 4, label = c("Distribution \n Account")) +
annotate("text", x = 2, y = 1, label = c("Class \n Certificates")) +
geom_segment(aes(x= 2 , y = 7, xend = 2, yend = 5), arrow = arrow(length = unit(0.2, "cm"))) +
geom_segment(aes(x= 9 , y = 3, xend = 9, yend = 2), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("rect", xmin = 7, xmax = 11, ymin = 3, ymax = 5, fill = "#56B4E9", alpha = .85) +
annotate("rect", xmin = 7, xmax = 11, ymin = 0, ymax = 2, fill = "#F0E443", alpha = .85) +
annotate("text", x = 9, y = 4, label = c("Distribution \n Account")) +
annotate("text", x = 9, y = 1, label = c("Class \n Certificates")) +
geom_segment(aes(x= 9 , y = 5, xend = 9, yend = 5.5)) +
geom_segment(aes(x= 3 , y = 5.5, xend = 9, yend = 5.5)) +
#geom_segment(aes(x= 3 , y = 5.5, xend = 3, yend = 7), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.75, y = 6, label = c("First Pay Supplemental Interest Account"), fontface = "italic", size = 4) +
geom_segment(aes(x= 6.5 , y = 4.5, xend = 7, yend = 4.5)) +
geom_segment(aes(x= 6.5 , y = 4.5, xend = 6.5, yend = 1)) +
geom_segment(aes(x= 6.5 , y = 1, xend = 7, yend = 1), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.5, y = .5, label = c("Second Pay Certifcates"), fontface = "italic", size = 4)
#graph 22.6
ggplot()+
scale_x_continuous(limits = c(0,12)) +
scale_y_continuous(limits = c(0,12)) +
theme_minimal() +
theme(line = element_blank(),
text = element_blank(),
line = element_blank(),
title = element_blank(),
plot.margin = unit(c(0, 0, 0, 0), "cm")) +
# Issuing Trust Bond and Label
annotate("rect", xmin = 2.5, xmax = 8.5, ymin = 9.5, ymax = 11.5, fill = "#D55E00", alpha = .85) +
annotate("text", x = 5.25, y = 10.5, label = c("Issuing Trust")) +
# Supplemental Intrest Box and Label
annotate("rect", xmin = 0, xmax = 4, ymin = 7, ymax = 9, fill = "#E69F00", alpha = .85) +
annotate("text", x = 2, y = 8, label = c("Supplemental \n Interest Trust")) +
#Swap Provider Box and Label
annotate("rect", xmin = 7, xmax = 11, ymin = 7 , ymax = 9, fill = "#E69F00", alpha = .85) +
annotate("text", x = 9, y = 8, label = c("Swap Provider")) +
geom_segment(aes(x= 7 , y =8.5, xend = 4, yend = 8.5), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.5, y = 9, label = c("Floating Pmt.")) +
geom_segment(aes(x= 4 , y =7.5, xend = 7, yend = 7.5), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.5, y = 7, label = c("Fixed Pmt.")) +
geom_segment(aes(x= 2 , y = 3, xend = 2, yend = 2), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("rect", xmin = 0, xmax = 4, ymin = 3, ymax = 5, fill = "#56B4E9", alpha = .85) +
annotate("rect", xmin = 0, xmax = 4, ymin = 0, ymax = 2, fill = "#F0E443", alpha = .85) +
annotate("text", x = 2, y = 4, label = c("Distribution \n Account")) +
annotate("text", x = 2, y = 1, label = c("Class \n Certificates")) +
geom_segment(aes(x= 2 , y = 7, xend = 2, yend = 5), arrow = arrow(length = unit(0.2, "cm"))) +
geom_segment(aes(x= 9 , y = 3, xend = 9, yend = 2), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("rect", xmin = 7, xmax = 11, ymin = 3, ymax = 5, fill = "#56B4E9", alpha = .85) +
annotate("rect", xmin = 7, xmax = 11, ymin = 0, ymax = 2, fill = "#F0E443", alpha = .85) +
annotate("text", x = 9, y = 4, label = c("Distribution \n Account")) +
annotate("text", x = 9, y = 1, label = c("Class \n Certificates")) +
geom_segment(aes(x= 9 , y = 5, xend = 9, yend = 5.5)) +
geom_segment(aes(x= 3 , y = 5.5, xend = 9, yend = 5.5)) +
geom_segment(aes(x= 3 , y = 5.5, xend = 3, yend = 7), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.75, y = 6, label = c("First Pay Supplemental Interest Account"), fontface = "italic", size = 4) +
geom_segment(aes(x= 6.5 , y = 4.5, xend = 7, yend = 4.5)) +
geom_segment(aes(x= 6.5 , y = 4.5, xend = 6.5, yend = 1)) +
#geom_segment(aes(x= 6.5 , y = 1, xend = 7, yend = 1), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.5, y = .5, label = c("Second Pay Certifcates"), fontface = "italic", size = 4)
#graph 22.6
ggplot()+
scale_x_continuous(limits = c(0,12)) +
scale_y_continuous(limits = c(0,12)) +
theme_minimal() +
theme(line = element_blank(),
text = element_blank(),
line = element_blank(),
title = element_blank(),
plot.margin = unit(c(0, 0, 0, 0), "cm")) +
# Issuing Trust Bond and Label
annotate("rect", xmin = 2.5, xmax = 8.5, ymin = 9.5, ymax = 11.5, fill = "#D55E00", alpha = .85) +
annotate("text", x = 5.25, y = 10.5, label = c("Issuing Trust")) +
# Supplemental Intrest Box and Label
annotate("rect", xmin = 0, xmax = 4, ymin = 7, ymax = 9, fill = "#E69F00", alpha = .85) +
annotate("text", x = 2, y = 8, label = c("Supplemental \n Interest Trust")) +
#Swap Provider Box and Label
annotate("rect", xmin = 7, xmax = 11, ymin = 7 , ymax = 9, fill = "#E69F00", alpha = .85) +
annotate("text", x = 9, y = 8, label = c("Swap Provider")) +
geom_segment(aes(x= 7 , y =8.5, xend = 4, yend = 8.5), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.5, y = 9, label = c("Floating Pmt.")) +
geom_segment(aes(x= 4 , y =7.5, xend = 7, yend = 7.5), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.5, y = 7, label = c("Fixed Pmt.")) +
geom_segment(aes(x= 2 , y = 3, xend = 2, yend = 2), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("rect", xmin = 0, xmax = 4, ymin = 3, ymax = 5, fill = "#56B4E9", alpha = .85) +
annotate("rect", xmin = 0, xmax = 4, ymin = 0, ymax = 2, fill = "#F0E443", alpha = .85) +
annotate("text", x = 2, y = 4, label = c("Distribution \n Account")) +
annotate("text", x = 2, y = 1, label = c("Class \n Certificates")) +
geom_segment(aes(x= 2 , y = 7, xend = 2, yend = 5), arrow = arrow(length = unit(0.2, "cm"))) +
geom_segment(aes(x= 9 , y = 3, xend = 9, yend = 2), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("rect", xmin = 7, xmax = 11, ymin = 3, ymax = 5, fill = "#56B4E9", alpha = .85) +
annotate("rect", xmin = 7, xmax = 11, ymin = 0, ymax = 2, fill = "#F0E443", alpha = .85) +
annotate("text", x = 9, y = 4, label = c("Distribution \n Account")) +
annotate("text", x = 9, y = 1, label = c("Class \n Certificates")) +
geom_segment(aes(x= 9 , y = 5, xend = 9, yend = 5.5)) +
geom_segment(aes(x= 3 , y = 5.5, xend = 9, yend = 5.5)) +
#geom_segment(aes(x= 3 , y = 5.5, xend = 3, yend = 7), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.75, y = 6, label = c("First Pay Supplemental Interest Account"), fontface = "italic", size = 4) +
geom_segment(aes(x= 6.5 , y = 4.5, xend = 7, yend = 4.5)) +
geom_segment(aes(x= 6.5 , y = 4.5, xend = 6.5, yend = 1)) +
geom_segment(aes(x= 6.5 , y = 1, xend = 7, yend = 1), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.5, y = .5, label = c("Second Pay Certifcates"), fontface = "italic", size = 4)
#graph 22.6
ggplot()+
scale_x_continuous(limits = c(0,12)) +
scale_y_continuous(limits = c(0,12)) +
theme_minimal() +
theme(line = element_blank(),
text = element_blank(),
line = element_blank(),
title = element_blank(),
plot.margin = unit(c(0, 0, 0, 0), "cm")) +
# Issuing Trust Bond and Label
annotate("rect", xmin = 2.5, xmax = 8.5, ymin = 9.5, ymax = 11.5, fill = "#D55E00", alpha = .85) +
annotate("text", x = 5.25, y = 10.5, label = c("Issuing Trust")) +
# Supplemental Intrest Box and Label
annotate("rect", xmin = 0, xmax = 4, ymin = 7, ymax = 9, fill = "#E69F00", alpha = .85) +
annotate("text", x = 2, y = 8, label = c("Supplemental \n Interest Trust")) +
#Swap Provider Box and Label
annotate("rect", xmin = 7, xmax = 11, ymin = 7 , ymax = 9, fill = "#E69F00", alpha = .85) +
annotate("text", x = 9, y = 8, label = c("Swap Provider")) +
geom_segment(aes(x= 7 , y =8.5, xend = 4, yend = 8.5), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.5, y = 9, label = c("Floating Pmt.")) +
geom_segment(aes(x= 4 , y =7.5, xend = 7, yend = 7.5), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.5, y = 7, label = c("Fixed Pmt.")) +
geom_segment(aes(x= 2 , y = 3, xend = 2, yend = 2), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("rect", xmin = 0, xmax = 4, ymin = 3, ymax = 5, fill = "#56B4E9", alpha = .85) +
annotate("rect", xmin = 0, xmax = 4, ymin = 0, ymax = 2, fill = "#F0E443", alpha = .85) +
annotate("text", x = 2, y = 4, label = c("Distribution \n Account")) +
annotate("text", x = 2, y = 1, label = c("Class \n Certificates")) +
geom_segment(aes(x= 2 , y = 7, xend = 2, yend = 5), arrow = arrow(length = unit(0.2, "cm"))) +
#geom_segment(aes(x= 9 , y = 3, xend = 9, yend = 2), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("rect", xmin = 7, xmax = 11, ymin = 3, ymax = 5, fill = "#56B4E9", alpha = .85) +
annotate("rect", xmin = 7, xmax = 11, ymin = 0, ymax = 2, fill = "#F0E443", alpha = .85) +
annotate("text", x = 9, y = 4, label = c("Distribution \n Account")) +
annotate("text", x = 9, y = 1, label = c("Class \n Certificates")) +
geom_segment(aes(x= 9 , y = 5, xend = 9, yend = 5.5)) +
geom_segment(aes(x= 3 , y = 5.5, xend = 9, yend = 5.5)) +
geom_segment(aes(x= 3 , y = 5.5, xend = 3, yend = 7), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.75, y = 6, label = c("First Pay Supplemental Interest Account"), fontface = "italic", size = 4) +
geom_segment(aes(x= 6.5 , y = 4.5, xend = 7, yend = 4.5)) +
geom_segment(aes(x= 6.5 , y = 4.5, xend = 6.5, yend = 1)) +
geom_segment(aes(x= 6.5 , y = 1, xend = 7, yend = 1), arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = 5.5, y = .5, label = c("Second Pay Certifcates"), fontface = "italic", size = 4)
(5.42 * 24* -7.55) + (0.17 * 81.75 * 7.13)
(5.42 * 24* -7.55) + (0.17 * 81.75 * 12.13)
(5.42 * 24* -7.55) + (0.17 * 81.75 * 12.13)
(5.42 * 24* -7.55) + (0.17 * 81.75 * 12.13) /(105 * 7.13)
(5.42 * 24* -7.55) + (0.17 * 81.75 * 12.13)
(5.42 * 24* -7.55) + (0.17 * 81.75 * 12.13)/(105.75 * 7.13)
(5.42 * 24* -7.55)
(5.42 * 24* -7.55) + (0.17 * 81.75 * 12.13)
library("BondLab", lib.loc="/Library/Frameworks/R.framework/Versions/3.0/Resources/library")
library(BondLab)
\wd
/wd
bondlabMBS55 <- PassThroughAnalytics(bond.id = "bondlabMBS55",
original.bal = 100000,
price = 107.5,
trade.date = "01-10-2013",
settlement.date = "01-13-2013",
scenario.set = c("DA25", "NC", "UA50", "UA100", "UA150", "UA200"),
PrepaymentAssumption = "MODEL")
library(BondLab)
bondlabMBS55 <- PassThroughAnalytics(bond.id = "bondlabMBS55",
original.bal = 100000,
price = 107.5,
trade.date = "01-10-2013",
settlement.date = "01-13-2013",
scenario.set = c("DA25", "NC", "UA50", "UA100", "UA150", "UA200"),
PrepaymentAssumption = "MODEL")
library(BondLab)
bondlabMBS55 <- PassThroughAnalytics(bond.id = "bondlabMBS55",
original.bal = 100000,
price = 107.5,
trade.date = "01-10-2013",
settlement.date = "01-13-2013",
scenario.set = c("DA25", "NC", "UA50", "UA100", "UA150", "UA200"),
PrepaymentAssumption = "MODEL")
library(BondLab)
library(BondLab)
library("Companion2IMBS", lib.loc="/Library/Frameworks/R.framework/Versions/3.0/Resources/library")
Chapter.11()
library(BondLab)
bondlabMBS4 <- PassThroughAnalytics(bond.id = "bondlabMBS4",
original.bal = 100000,
price = 105.75,
trade.date = "01-10-2013",
settlement.date = "01-13-2013",
scenario.set = c("DA25", "NC", "UA50", "UA100", "UA150", "UA200"),
PrepaymentAssumption = "MODEL")
install.packages("rox")
library("roxygen2", lib.loc="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
library("devtools", lib.loc="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
install.packages("termstrc")
library("termstrc", lib.loc="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
library("BondLab", lib.loc="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
library("BondLab", lib.loc="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
install.packages("termstrc")
library("BondLab", lib.loc="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
library("termstrc", lib.loc="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
detach("package:termstrc", unload=TRUE)
library("termstrc", lib.loc="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
install.packages("term")
install.packages('termstruc', type = 'source')
library(BondLab)
library(BondLab)
bondlabMBS4 <- PassThroughAnalytics(bond.id = "bondlabMBS4",
original.bal = 100000,
price = 105.75,
trade.date = "01-10-2013",
settlement.date = "01-13-2013",
scenario.set = c("DA25", "NC", "UA50", "UA100", "UA150", "UA200"),
PrepaymentAssumption = "MODEL")
library("devtools", lib.loc="/Library/Frameworks/R.framework/Versions/3.0/Resources/library")
library("roxygen2", lib.loc="/Library/Frameworks/R.framework/Versions/3.0/Resources/library")
library("testthat", lib.loc="/Library/Frameworks/R.framework/Versions/3.0/Resources/library")
Chapter.11
Chapter.11()
library("Companion2IMBS", lib.loc="/Library/Frameworks/R.framework/Versions/3.0/Resources/library")
Chapter.11()
Chapter.10
Chapter.10()
source("Chapter.10")
UseMethod(MortgageCashFlow)
UseMethod("MortgageCashFlow")
UseMethod("MortgageCashFlow")
UseMethod("MortgageCashFlow")
library(BondLab)
library(BondLab)
library(BondLab)
require(scales)
require(reshape2)
require(ggplot2)
cbbPalette <- c("#E69F00",
"#56B4E9",
"#009E73",
"#F0E442",
"#0072B2",
"#D55E00",
"#CC79A7",
"#000000",
"#E69F00",
"#56B4E9",
"#009E73")
#plot 12.12 - To make this graph the OAS model should return the prepayment model SMM vector
# note edit Mortgage OAS to output prepayment vectors
set.seed(10000)
Mortgage.OAS(bond.id = "bondlabMBS55",
trade.date = "01-10-2013",
settlement.date = "01-13-2013",
original.bal = 100000,
price = 107.5,
sigma = 0.015,
paths = 10)
PoolAge <- seq(1, 360, 1)
plotvector <- data.frame(cbind(PoolAge, vectors))
plotvector <- melt(plotvector, id = "PoolAge")
ggplot(plotvector, aes(x = PoolAge, y = (1-(1-value)^12) * 100, colour = variable, linetype = variable)) +
geom_line(size = 1) +
theme_minimal() +
labs(colour = "Legend", linetype = "Legend", x = "Pool Age (Mos.)", y = "CPR (%)") +
scale_colour_manual(values = cbbPalette) +
scale_y_continuous(limits = c(0, 25), breaks = seq(0,25, 5))  +
scale_x_continuous(limits = c(0, 324), breaks = seq(0, 360, 24)) +
theme(panel.grid.major = element_line(size = .25, color = "grey")) +
theme(axis.text = element_text(size = 15)) +
theme(axis.title = element_text(size = 20)) +
theme(legend.position = "none")
#plot 12.12 - To make this graph the OAS model should return the prepayment model SMM vector
# note edit Mortgage OAS to output prepayment vectors
set.seed(10000)
Mortgage.OAS(bond.id = "bondlabMBS55",
trade.date = "01-10-2013",
settlement.date = "01-13-2013",
original.bal = 100000,
price = 107.5,
sigma = 0.015,
paths = 10)
PoolAge <- seq(1, 360, 1)
plotvector <- data.frame(cbind(PoolAge, vectors))
plotvector <- melt(plotvector, id = "PoolAge")
ggplot(plotvector, aes(x = PoolAge, y = (1-(1-value)^12) * 100, colour = variable, linetype = variable)) +
geom_line(size = 1) +
theme_minimal() +
labs(colour = "Legend", linetype = "Legend", x = "Pool Age (Mos.)", y = "CPR (%)") +
scale_colour_manual(values = cbbPalette) +
scale_y_continuous(limits = c(0, 25), breaks = seq(0,25, 5))  +
scale_x_continuous(limits = c(0, 324), breaks = seq(0, 360, 24)) +
theme(panel.grid.major = element_line(size = .25, color = "grey")) +
theme(axis.text = element_text(size = 15)) +
theme(axis.title = element_text(size = 20)) +
theme(legend.position = "none")
Mortgage.OAS(bond.id = "bondlabMBS55",
trade.date = "01-10-2013",
settlement.date = "01-13-2013",
original.bal = 100000,
price = 107.5,
sigma = 0.015,
paths = 10)
library(BondLab)
library(BondLab)
#plot 12.12 - To make this graph the OAS model should return the prepayment model SMM vector
# note edit Mortgage OAS to output prepayment vectors
set.seed(10000)
Mortgage.OAS(bond.id = "bondlabMBS55",
trade.date = "01-10-2013",
settlement.date = "01-13-2013",
original.bal = 100000,
price = 107.5,
sigma = 0.015,
paths = 10)
PoolAge <- seq(1, 360, 1)
plotvector <- data.frame(cbind(PoolAge, vectors))
plotvector <- melt(plotvector, id = "PoolAge")
ggplot(plotvector, aes(x = PoolAge, y = (1-(1-value)^12) * 100, colour = variable, linetype = variable)) +
geom_line(size = 1) +
theme_minimal() +
labs(colour = "Legend", linetype = "Legend", x = "Pool Age (Mos.)", y = "CPR (%)") +
scale_colour_manual(values = cbbPalette) +
scale_y_continuous(limits = c(0, 25), breaks = seq(0,25, 5))  +
scale_x_continuous(limits = c(0, 324), breaks = seq(0, 360, 24)) +
theme(panel.grid.major = element_line(size = .25, color = "grey")) +
theme(axis.text = element_text(size = 15)) +
theme(axis.title = element_text(size = 20)) +
theme(legend.position = "none")
set.seed(10000)
Mortgage.OAS(bond.id = "bondlabMBS55",
trade.date = "01-10-2013",
settlement.date = "01-13-2013",
original.bal = 100000,
price = 107.5,
sigma = 0.015,
paths = 10)
library(BondLab)
set.seed(10000)
Mortgage.OAS(bond.id = "bondlabMBS55",
trade.date = "01-10-2013",
settlement.date = "01-13-2013",
original.bal = 100000,
price = 107.5,
sigma = 0.015,
paths = 10)
PoolAge <- seq(1, 360, 1)
plotvector <- data.frame(cbind(PoolAge, vectors))
plotvector <- melt(plotvector, id = "PoolAge")
ggplot(plotvector, aes(x = PoolAge, y = (1-(1-value)^12) * 100, colour = variable, linetype = variable)) +
geom_line(size = 1) +
theme_minimal() +
labs(colour = "Legend", linetype = "Legend", x = "Pool Age (Mos.)", y = "CPR (%)") +
scale_colour_manual(values = cbbPalette) +
scale_y_continuous(limits = c(0, 25), breaks = seq(0,25, 5))  +
scale_x_continuous(limits = c(0, 324), breaks = seq(0, 360, 24)) +
theme(panel.grid.major = element_line(size = .25, color = "grey")) +
theme(axis.text = element_text(size = 15)) +
theme(axis.title = element_text(size = 20)) +
theme(legend.position = "none")
cbbPalette <- c("#E69F00",
"#56B4E9",
"#009E73",
"#F0E442",
"#0072B2",
"#D55E00",
"#CC79A7",
"#000000",
"#E69F00",
"#56B4E9",
"#009E73")
set.seed(10000)
Mortgage.OAS(bond.id = "bondlabMBS55",
trade.date = "01-10-2013",
settlement.date = "01-13-2013",
original.bal = 100000,
price = 107.5,
sigma = 0.015,
paths = 10)
PoolAge <- seq(1, 360, 1)
plotvector <- data.frame(cbind(PoolAge, vectors))
plotvector <- melt(plotvector, id = "PoolAge")
ggplot(plotvector, aes(x = PoolAge, y = (1-(1-value)^12) * 100, colour = variable, linetype = variable)) +
geom_line(size = 1) +
theme_minimal() +
labs(colour = "Legend", linetype = "Legend", x = "Pool Age (Mos.)", y = "CPR (%)") +
scale_colour_manual(values = cbbPalette) +
scale_y_continuous(limits = c(0, 25), breaks = seq(0,25, 5))  +
scale_x_continuous(limits = c(0, 324), breaks = seq(0, 360, 24)) +
theme(panel.grid.major = element_line(size = .25, color = "grey")) +
theme(axis.text = element_text(size = 15)) +
theme(axis.title = element_text(size = 20)) +
theme(legend.position = "none")
#plot 12.12 - To make this graph the OAS model should return the prepayment model SMM vector
# note edit Mortgage OAS to output prepayment vectors
set.seed(10000)
Mortgage.OAS(bond.id = "bondlabMBS55",
trade.date = "01-10-2013",
settlement.date = "01-13-2013",
original.bal = 100000,
price = 107.5,
sigma = 0.015,
paths = 10)
PoolAge <- seq(1, 360, 1)
plotvector <- data.frame(cbind(PoolAge, vectors))
plotvector <- melt(plotvector, id = "PoolAge")
ggplot(plotvector, aes(x = PoolAge, y = (1-(1-value)^12) * 100, colour = variable, linetype = variable)) +
geom_line(size = 1) +
theme_minimal() +
labs(colour = "Legend", linetype = "Legend", x = "Pool Age (Mos.)", y = "CPR (%)") +
scale_colour_manual(values = cbbPalette) +
scale_y_continuous(limits = c(0, 25), breaks = seq(0,25, 5))  +
scale_x_continuous(limits = c(0, 324), breaks = seq(0, 360, 24)) +
theme(panel.grid.major = element_line(size = .25, color = "grey")) +
theme(axis.text = element_text(size = 15)) +
theme(axis.title = element_text(size = 20)) +
theme(legend.position = "none")
library(BondLab)
TermStructure(rates.data = "01-10-2013", method = "ns")
library("BondLab", lib.loc="/Library/Frameworks/R.framework/Versions/3.0/Resources/library")
TermStructure(rates.data = "01-10-2013", method = "ns")
library(BondLab)
TermStructure(rates.data = "01-10-2013", method = "ns")
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
library(BondLab)
TermStructure(rates.data = "01-10-2013", method = "ns")
library(BondLab)
library(BondLab)
library(BondLab)
SMMVector.To.CPR
library(BondLab)
library(BondLab)
412/60
library(BondLab)
MBS.id
MBS
MBS()
library("BondLab", lib.loc="/Library/Frameworks/R.framework/Versions/3.0/Resources/library")
MBS()
MBS
dput(MBS(MBS.id = "bondlabMBS4"))
library(BondLab)
