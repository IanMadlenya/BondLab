SwapPath <- paste(system.file(package = "BondLab"),"/RatesData/Swap.csv", sep = "")
LiborPath <- paste(system.file(package = "BondLab"),"/RatesData/Libor.csv", sep = "")
library(BondLab)
5000000/75000000
library(BondLab)
(469000 * 12)/76544000
(486000 * 12)/75339000
10000 * 100
library("roxygen2", lib.loc="/Library/Frameworks/R.framework/Versions/3.3/Resources/library")
library(BondLab)
detach("package:BondLab", unload=TRUE)
library("BondLab", lib.loc="/Library/Frameworks/R.framework/Versions/3.3/Resources/library")
library(BondLab)
detach("package:BondLab", unload=TRUE)
library("BondLab", lib.loc="/Library/Frameworks/R.framework/Versions/3.3/Resources/library")
library(BondLab)
detach("package:BondLab", unload=TRUE)
library(BondLab)
library("BondLab", lib.loc="/Library/Frameworks/R.framework/Versions/3.3/Resources/library")
library("roxygen2", lib.loc="/Library/Frameworks/R.framework/Versions/3.3/Resources/library")
library(BondLab)
getwd()
ls
dir
getwd()
library(BondLab)
1000 * 50
50000 * 12
3000 * 50 * 12
30000 * 50 * 12
library(BondLab)
getwd
wd
getwd
getwd()
library(BondLab)
install.packages("purr")
library(BondLab)
108 * 16
50/108
108 * 244
library(BondLab)
Mortgage.Monthly.Payment(orig.bal = "1000", note.rate = "6", term.mos = "360")
Mortgage.Monthly.Payment(orig.bal = 1000, note.rate = 6, term.mos = 360)
Mortgage.Monthly.Payment(orig.bal = "1000", note.rate = 6, term.mos = 360)
Mortgage.Monthly.Payment(orig.bal = 1000, note.rate = 6, term.mos = 360)
library(BondLab)
MortgageScenario
HorizonMos
showMethods(MortgageScenario)
library(BondLab)
showMethods(MortgageScenario)
detach("package:BondLab", unload=TRUE)
library("BondLab", lib.loc="/Library/Frameworks/R.framework/Versions/3.3/Resources/library")
showMethods(MortgageScenario)
MortgageScenario
showMethods
showMethods(MortgageScenario)
library(BondLab)
MortgageScenario
showMethods(MortgageScenario)
library(BondLab)
MortgageScenario
HorizonMos
library(BondLab)
showMethods(MortgageScenario)
library(BondLab)
HorizonMos
library(BondLab)
MortgageScenario
library(BondLab)
showMethods(MortgageScenario)
library(BondLab)
? initialize
library(BondLab)
showMethods(MortgageScenario)
library(BondLab)
showMethods(MortgageScenario)
MortgageScenario
initialize
skelton
method.skeleton("MortgageScenario")
method.skeleton("MortgageScenario", "MortgageScenario")
method.skeleton("HorizonMons", "newHR")
library(BondLab)
method.skeleton("initialize", "MortgageScenario")
library(BondLab)
? BondCashFlows
library(BondLab)
1/14
library(BondLab)
MortgageRate()
library("BondLab", lib.loc="/Library/Frameworks/R.framework/Versions/3.3/Resources/library")
MortgageRate()
library(BondLab)
MortgageRate()
MtgRate()
library("BondLab", lib.loc="/Library/Frameworks/R.framework/Versions/3.3/Resources/library")
MtgRate()
MortgageRate()
MtgRate()
library(BondLab)
MtgRate()
MortgageRate
MortgageRate()
library(BondLab)
# Test the bonds in the data folders for Anthony's class The bonds that are
# available are detailed below and the term structure is 08-15-2016
# Treasury settlement date is 08-18-2016
# Mortgage settlement date 09-15-2016
# Call the UST bonds by cusip number
UST1125082021 <- Bond(Bond.id = "912828S76")
UST075072018 <- Bond(Bond.id = "912828S68")
UST225082046 <- Bond(Bond.id = "912810RT7")
price <- PriceTypes(Price = "100.00")
Curve <- Rates(trade.date = "08-15-2016")
TermStructure <- TermStructure(rates.data = Curve)
CashFlow <- BondCashFlows(bond.id = UST075072018,
principal = 1000,
settlement.date = "08-15-2016",
price = "100-00")
CurveSpreads <- CurveSpreads(rates.data = Curve,
CashFlow = CashFlow,
TermStructure = TermStructure,
proceeds = 1000 * 1)
BondKeyRate <- BondTermStructure(bond.id = UST075072018,
Rate.Delta = 0.25,
TermStructure = TermStructure,
principal = 1000,
price = PriceDecimalString(price),
cashflow = CashFlow)
NCBondCsenario <- BondScenario(bond.id = UST075072018,
settlement.date = "08-18-2016",
rates.data = Curve,
price = "100.00",
principal = 1000,
scenario = "NCs",
horizon.months = 12,
horizon.spot.spread = -.21)
BondAnalytics(bond.id = "UST075072018",
principal = 1000,
price = "100-00",
trade.date = "08-15-2016",
settlement.date = "08-18-2016")
FNAR7401 <- MBS(MBS.id = "3138W5GK8")
FHQ41163 <- MBS(MBS.id = "3132WEJH6")
FHQ41072 <- MBS(MBS.id = "3132WEFN7")
Curve <- Rates(trade.date = "08-15-2016")
TermStructure <- TermStructure(rates.data = Curve)
prepayment <- PrepaymentModel(bond.id = FNAR7401,
TermStructure = TermStructure(
rates.data = Curve, method = "dl"),
MortgageRate = MtgRate(),
ModelTune = ModelTune(MBS(MBS.id = "3138W5GK8")),
Burnout = Burnout(MBS(MBS.id = "3138W5GK8")),
PrepaymentAssumption = "MODEL")
SpreadToPrice <- SpreadToPrice(bond.id = FNAR7401,
trade.date = "08-15-2016",
settlement.date = "08-15-2016",
PrepaymentAssumption = "CPR",
spread = "120",
CPR = 8.5)
FNAR7401CF <- MortgageCashFlow(bond.id = FNAR7401,
original.bal = 1000000,
settlement.date = "08-18-2016",
price = PriceDecimalString(SpreadToPrice),
PrepaymentAssumption =
PrepaymentModel(
bond.id = FNAR7401,
TermStructure = TermStructure(
rates.data = Curve, method = "dl"),
MortgageRate = MtgRate(),
ModelTune = ModelTune(MBS(MBS.id = "3138W5GK8")),
Burnout = Burnout(MBS(MBS.id = "3138W5GK8")),
PrepaymentAssumption = "MODEL"))
Spreads <- CurveSpreads(rates.data = Curve,
CashFlow = FNAR7401CF,
TermStructure = TermStructure,
proceeds = (PriceBasis(SpreadToPrice) *
1000000 *
MBSFactor(FNAR7401)) + Accrued(FNAR7401CF))
NCScenario <- MortgageScenario(bond.id = FNAR7401,
settlement.date = "08-18-2016",
rates.data = Curve,
price = PriceDecimalString(SpreadToPrice),
original.bal = 1000000,
scenario = "NCs",
horizon.months = 12,
method = "dl",
prepayment = "MODEL",
horizon.spot.spread = ZeroVolSpread(Spreads))
library(BondLab)
MortgageRate <- MortgageRate()
library(BondLab)
MBS(MBS.id = "bondlabMBS4")
MBS <- MBS(MBS.id = "bondlabMBS4")
library(BondLab)
MBS(MBS.id = "bondlabMBS4")
library(BondLab)
MBS(MBS.id = "bondlabMBS4")
library(BondLab)
new(TermStructure)
new("TermStructure")
new("MortgageTermStructure")
library(BondLab)
PriceType(price = "100-00")
library(BondLab)
MakeMBSDetails(
Cusip = "3138BLMBS”,
ID = "313BLMBS4BLMBS040”,
BondType = "MBS",
Sector = "Agency Mortgage",
Issuer = “BONDLAB”,
Underwriter = “BONDLAB”,
Coupon = 4.00,
IssueDate = "01-01-2013",
DatedDate = "01-01-2013",
Maturity = “01-01-2043”,
LastPmtDate = "01-01-2013”,
NextPmtDate = "02-01-2013”,
Term = 360,
WALA  = 0,
WAM = 360,
PaymentDelay = 24,
Moody = "Aaa",
SP = "AAA",
BondLab = "AAA",
Frequency = 12,
BondBasis = "30360",
GWac = 4.5,
OrigLoanBal = 275000,
OrigLTV = 80,
AmortizationType = "fixed",
AmortizationTerm = 30,
Index = "none",
Margin = 0,
FirstPmtDate = “01-01-2013”,
FinalPmtDate = “01-01-2043”,
Servicing = 0.527,
PMI = 0,
GFeePremium = 0,
InitialInterest = FALSE,
InterestOnlyPeriod = 0,
FirstPrinPaymentDate = "12-01-2012",
BalloonPmt = FALSE,
BalloonDate = "00-00-0000",
MBSFactor = 1.00,
OriginalBal = 1000000,
CurrentBal = 1000000,
Model = "FN30.Generic",
Burnout = 0,
SATO = 0.75)
MakeMBSDetails(
Cusip = "3138BLMBS”,
ID = "313BLMBS4BLMBS040”,
BondType = "MBS",
Sector = "Agency Mortgage",
Issuer = “BONDLAB”,
Underwriter = “BONDLAB”,
Coupon = 4.00,
IssueDate = "01-01-2013",
DatedDate = "01-01-2013",
Maturity = “01-01-2043”,
LastPmtDate = "01-01-2013”,
NextPmtDate = "02-01-2013”,
Term = 360,
WALA  = 0,
WAM = 360,
PaymentDelay = 24,
Moody = "Aaa",
SP = "AAA",
BondLab = "AAA",
Frequency = 12,
BondBasis = "30360",
GWac = 4.5,
OrigLoanBal = 275000,
OrigLTV = 80,
AmortizationType = "fixed",
AmortizationTerm = 30,
Index = "none",
Margin = 0,
FirstPmtDate = “01-01-2013”,
FinalPmtDate = “01-01-2043”,
Servicing = 0.527,
PMI = 0,
GFeePremium = 0,
InitialInterest = FALSE,
InterestOnlyPeriod = 0,
FirstPrinPaymentDate = "12-01-2012",
BalloonPmt = FALSE,
BalloonDate = "00-00-0000",
MBSFactor = 1.00,
OriginalBal = 1000000,
CurrentBal = 1000000,
Model = "FN30.Generic",
Burnout = 0,
SATO = 0.75)
MakeMBSDetails(
Cusip = "3138BLMBS",
ID = "313BLMBS4BLMBS040",
BondType = "MBS",
Sector = "Agency Mortgage",
Issuer = “BONDLAB”,
Underwriter = “BONDLAB”,
Coupon = 4.00,
IssueDate = "01-01-2013",
DatedDate = "01-01-2013",
Maturity = “01-01-2043”,
LastPmtDate = "01-01-2013”,
NextPmtDate = "02-01-2013”,
Term = 360,
WALA  = 0,
WAM = 360,
PaymentDelay = 24,
Moody = "Aaa",
SP = "AAA",
BondLab = "AAA",
Frequency = 12,
BondBasis = "30360",
GWac = 4.5,
OrigLoanBal = 275000,
OrigLTV = 80,
AmortizationType = "fixed",
AmortizationTerm = 30,
Index = "none",
Margin = 0,
FirstPmtDate = “01-01-2013”,
FinalPmtDate = “01-01-2043”,
Servicing = 0.527,
PMI = 0,
GFeePremium = 0,
InitialInterest = FALSE,
InterestOnlyPeriod = 0,
FirstPrinPaymentDate = "12-01-2012",
BalloonPmt = FALSE,
BalloonDate = "00-00-0000",
MBSFactor = 1.00,
OriginalBal = 1000000,
CurrentBal = 1000000,
Model = "FN30.Generic",
Burnout = 0,
SATO = 0.75)
MakeMBSDetails(
Cusip = "3138BLMBS",
ID = "313BLMBS4BLMBS040",
BondType = "MBS",
Sector = "Agency Mortgage",
Issuer = "BONDLAB",
Underwriter = "BONDLAB",
Coupon = 4.00,
IssueDate = "01-01-2013",
DatedDate = "01-01-2013",
Maturity = “01-01-2043”,
LastPmtDate = "01-01-2013",
NextPmtDate = "02-01-2013",
Term = 360,
WALA  = 0,
WAM = 360,
PaymentDelay = 24,
Moody = "Aaa",
SP = "AAA",
BondLab = "AAA",
Frequency = 12,
BondBasis = "30360",
GWac = 4.5,
OrigLoanBal = 275000,
OrigLTV = 80,
AmortizationType = "fixed",
AmortizationTerm = 30,
Index = "none",
Margin = 0,
FirstPmtDate = "01-01-2013",
FinalPmtDate = "01-01-2043",
Servicing = 0.527,
PMI = 0,
GFeePremium = 0,
InitialInterest = FALSE,
InterestOnlyPeriod = 0,
FirstPrinPaymentDate = "12-01-2012",
BalloonPmt = FALSE,
BalloonDate = "00-00-0000",
MBSFactor = 1.00,
OriginalBal = 1000000,
CurrentBal = 1000000,
Model = "FN30.Generic",
Burnout = 0,
SATO = 0.75)
MakeMBSDetails(
Cusip = "3138BLMBS",
ID = "313BLMBS4BLMBS040",
BondType = "MBS",
Sector = "Agency Mortgage",
Issuer = "BONDLAB",
Underwriter = "BONDLAB",
Coupon = 4.00,
IssueDate = "01-01-2013",
DatedDate = "01-01-2013",
Maturity = “01-01-2043”,
LastPmtDate = "01-01-2013",
NextPmtDate = "02-01-2013",
Term = 360,
WALA  = 0,
WAM = 360,
PaymentDelay = 24,
Moody = "Aaa",
SP = "AAA",
BondLab = "AAA",
Frequency = 12,
BondBasis = "30360",
GWac = 4.5,
OrigLoanBal = 275000,
OrigLTV = 80,
AmortizationType = "fixed",
AmortizationTerm = 30,
Index = "none",
Margin = 0,
FirstPmtDate = "01-01-2013",
FinalPmtDate = "01-01-2043",
Servicing = 0.527,
PMI = 0,
GFeePremium = 0,
InitialInterest = FALSE,
InterestOnlyPeriod = 0,
FirstPrinPaymentDate = "12-01-2012",
BalloonPmt = FALSE,
BalloonDate = "00-00-0000",
MBSFactor = 1.00,
OriginalBal = 1000000,
CurrentBal = 1000000,
Model = "FN30.Generic",
Burnout = 0,
SATO = 0.75)
MakeMBSDetails(
Cusip = "3138BLMBS",
ID = "313BLMBS4BLMBS040",
BondType = "MBS",
Sector = "Agency Mortgage",
Issuer = "BONDLAB",
Underwriter = "BONDLAB",
Coupon = 4.00,
IssueDate = "01-01-2013",
DatedDate = "01-01-2013",
Maturity = "01-01-2043",
LastPmtDate = "01-01-2013",
NextPmtDate = "02-01-2013",
Term = 360,
WALA  = 0,
WAM = 360,
PaymentDelay = 24,
Moody = "Aaa",
SP = "AAA",
BondLab = "AAA",
Frequency = 12,
BondBasis = "30360",
GWac = 4.5,
OrigLoanBal = 275000,
OrigLTV = 80,
AmortizationType = "fixed",
AmortizationTerm = 30,
Index = "none",
Margin = 0,
FirstPmtDate = "01-01-2013",
FinalPmtDate = "01-01-2043",
Servicing = 0.527,
PMI = 0,
GFeePremium = 0,
InitialInterest = FALSE,
InterestOnlyPeriod = 0,
FirstPrinPaymentDate = "12-01-2012",
BalloonPmt = FALSE,
BalloonDate = "00-00-0000",
MBSFactor = 1.00,
OriginalBal = 1000000,
CurrentBal = 1000000,
Model = "FN30.Generic",
Burnout = 0,
SATO = 0.75)
library(BondLab)
strsplit("01-01-2014")
strsplit("01-01-2014", split "\\.|\\-")
strsplit("01-01-2014", split = "\\.|\\-")
strsplit("1-1-2014", split = "\\.|\\-")
strsplit("01-01-2014", split = "\\.|\\-")
strsplit("01-01-2014", split = "\\.|\\-")[[3]]
strsplit("01-01-2014", split = "\\.|\\-")[[1]]
strsplit("01-01-2014", split = "\\.|\\-")[[1]][3]
library(BondLab)
if(mode(1000000) != "numeric") stop ("test")
library(BondLab)
strplit("100.00", "\\.|\\-")
strsplit("100.00", "\\.|\\-")
strsplit("100.00", "\\.|\\-")[[1]][2]
strsplit("100", "\\.|\\-")[[1]][2]
strsplit("100-00", "\\.|\\-")[[1]][2]
nchar(strsplit("100-00", "\\.|\\-")[[1]][2])
nchar(strsplit("100", "\\.|\\-")[[1]][2])
library(BondLab)
01
1
library(BondLab)
demo(error.catching)
library(BondLab)
as.character(
as.Date("01-10-2013", format = "%m-%d-%Y") %m+% months(horizon.months))
library("lubridate", lib.loc="/Library/Frameworks/R.framework/Versions/3.3/Resources/library")
as.character(
as.Date("01-10-2013", format = "%m-%d-%Y") %m+% months(horizon.months))
as.character(
as.Date("01-10-2013", format = "%m-%d-%Y") %m+% months(12))
as.character(
as.Date("01-10-2013", format = "%m-%d-%Y") %m+% months(12), format = "%m-%d-%Y")
library(BondLab)
