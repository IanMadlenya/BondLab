rm(yield.table)
#data for table 14.4
AL <- array(data = NA, c(1,5))
for(i in 1:5){
price = c(100)
for(s in 1: 5){
cpr = c(2, 6, 8, 10, 12)
MortgageCashFlow <-  REMICCashFlow(bond.id = "BondLabSEQ2",
trade.date = "01-10-2013",
settlement.date = "01-13-2013",
collateral.price = 105.75,
tranche.price = as.numeric(price[i]),
PrepaymentAssumption = "CPR",
CPR = cpr[s])
yield.table[i,s] <- MortgageCashFlow@WAL
}
yield.table <- yield.table
}
#data for table 14.4
AL <- array(data = NA, c(1,5))
for(i in 1:5){
price = c(100)
for(s in 1: 5){
cpr = c(2, 6, 8, 10, 12)
MortgageCashFlow <-  REMICCashFlow(bond.id = "BondLabSEQ2",
trade.date = "01-10-2013",
settlement.date = "01-13-2013",
collateral.price = 105.75,
tranche.price = as.numeric(price[i]),
PrepaymentAssumption = "CPR",
CPR = cpr[s])
yield.table[i,s] <- MortgageCashFlow@WAL
}
yield.table <<- yield.table
}
#data for table 14.4
yield.table <- array(data = NA, c(1,5))
for(i in 1:5){
price = c(100)
for(s in 1: 5){
cpr = c(2, 6, 8, 10, 12)
MortgageCashFlow <-  REMICCashFlow(bond.id = "BondLabSEQ2",
trade.date = "01-10-2013",
settlement.date = "01-13-2013",
collateral.price = 105.75,
tranche.price = as.numeric(price[i]),
PrepaymentAssumption = "CPR",
CPR = cpr[s])
yield.table[i,s] <- MortgageCashFlow@WAL
}
yield.table <<- yield.table
}
View(yield.table)
View(yield.table)
plot(yield.table)
View(yield.table)
al.table <- array(data = NA, c(3,5))
for(i in 3:5){
price = c(100)
for(s in 3: 5){
cpr = c(2, 6, 8, 10, 12)
MortgageCashFlow <-  REMICCashFlow(bond.id = paste("BondLabSEQ", as.character(i), sep = ""),
trade.date = "01-10-2013",
settlement.date = "01-13-2013",
collateral.price = 105.75,
tranche.price = 100,
PrepaymentAssumption = "CPR",
CPR = cpr[s])
al.table[i,s] <- MortgageCashFlow@WAL
}
al.table <<- al.table
}
#al data for table 15
al.table <- array(data = NA, c(3,5))
for(i in 3:5){
price = c(100)
for(s in 3: 5){
cpr = c(2, 6, 8, 10, 12)
class <- REMICDeal(remic.deal = paste("BondLabSEQ", as.character(i),sep =""))
MortgageCashFlow <-  REMICCashFlow(bond.id = class,
trade.date = "01-10-2013",
settlement.date = "01-13-2013",
collateral.price = 105.75,
tranche.price = 100,
PrepaymentAssumption = "CPR",
CPR = cpr[s])
al.table[i,s] <- MortgageCashFlow@WAL
}
al.table <<- al.table
}
rm(AL)
rm(al.table)
rm(graph.data)
rm(cpr)
rm(i)
rm(price)
rm(s)
al data for table 15
al.table <- array(data = NA, c(3,5))
for(i in 1:3){
price = c(100)
for(s in 1: 5){
cpr = c(2, 6, 8, 10, 12)
class <- REMICDeal(remic.deal = paste("BondLabSEQ", as.character(i),sep =""))
MortgageCashFlow <-  REMICCashFlow(bond.id = class,
trade.date = "01-10-2013",
settlement.date = "01-13-2013",
collateral.price = 105.75,
tranche.price = 100,
PrepaymentAssumption = "CPR",
CPR = cpr[s])
al.table[i,s] <- MortgageCashFlow@WAL
}
al.table <<- al.table
}
library(BondLab)
library(BondLab)
#al data for table 15
al.table <- array(data = NA, c(3,5))
for(i in 1:3){
price = c(100)
for(s in 1: 5){
cpr = c(2, 6, 8, 10, 12)
cusip <- Cusip(cusip = paste("BondLabSEQ", as.character(i),sep =""))
MortgageCashFlow <-  REMICCashFlow(bond.id = cusip,
trade.date = "01-10-2013",
settlement.date = "01-13-2013",
collateral.price = 105.75,
tranche.price = 100,
PrepaymentAssumption = "CPR",
CPR = cpr[s])
al.table[i,s] <- MortgageCashFlow@WAL
}
al.table <<- al.table
}
#al data for table 15
al.table <- array(data = NA, c(3,5))
for(i in 1:3){
price = c(100)
for(s in 1: 5){
cpr = c(2, 6, 8, 10, 12)
cusip <- Cusip(cusip = paste("BondLabSEQ", as.character(i),sep =""))
MortgageCashFlow <-  REMICCashFlow(bond.id = cusip,
trade.date = "01-10-2013",
settlement.date = "01-13-2013",
collateral.price = 105.75,
tranche.price = 100,
PrepaymentAssumption = "CPR",
CPR = cpr[s])
al.table[i,s] <- MortgageCashFlow@WAL
}
al.table <<- al.table
}
#al data for table 15
al.table <- array(data = NA, c(3,5))
for(i in 1:3){
price = c(100)
for(s in 1: 5){
cpr = c(2, 6, 8, 10, 12)
cusip <- Cusip(cusip = paste("BondLabSEQ", i ,sep =""))
MortgageCashFlow <-  REMICCashFlow(bond.id = cusip,
trade.date = "01-10-2013",
settlement.date = "01-13-2013",
collateral.price = 105.75,
tranche.price = 100,
PrepaymentAssumption = "CPR",
CPR = cpr[s])
al.table[i,s] <- MortgageCashFlow@WAL
}
al.table <<- al.table
}
#ggplot 15.11
REMICSEQ3OAS.WAL <- data.frame(REMICSEQ3OAS@PathWAL )
REMICSEQ3OAS.WAL <- cbind(REMICSEQ3OAS.WAL, seq(1: length(REMICSEQ3OAS.WAL)))
colnames(REMICSEQ3OAS.WAL) <- c("value", "count")
ggplot(REMICSEQ3OAS.WAL, aes(x = value )) +
geom_histogram(colour = "black", fill = "lightgrey") +
#geom_histogram(aes(y =..density..), color = "black", fill = "lightgrey") +
#geom_density() +
theme_minimal() +
#scale_y_continuous(limits = c(0, 100), breaks = seq(0, 100, 10)) +
scale_x_continuous(breaks = seq(as.integer(min(REMICSEQ3OAS.WAL[,1]))-1, as.integer(max(REMICSEQ3OAS.WAL[,1])) + 1, .5)) +
ylab("Frequency")+
xlab("Path WAL") +
theme(panel.grid.major = element_line(size = .25, color = "grey")) +
theme(axis.text = element_text(size = 15)) +
theme(axis.title = element_text(size = 20)) +
theme(legend.position = "none")
#ggplot 15.12
REMICSEQ3OAS.PathSpread <- data.frame(REMICSEQ3OAS@PathSpread) * 100
REMICSEQ3OAS.PathSpread <- cbind(REMICSEQ3OAS.PathSpread, seq(1: length(REMICSEQ3OAS.PathSpread)))
colnames(REMICSEQ3OAS.PathSpread) <- c("value", "count")
ggplot(REMICSEQ3OAS.PathSpread, aes(x = value )) +
geom_histogram(colour = "black", fill = "lightgrey") +
#geom_histogram(aes(y =..density..), color = "black", fill = "lightgrey") +
#geom_density() +
theme_minimal() +
#scale_y_continuous(limits = c(0, 100), breaks = seq(0, 100, 10)) +
#scale_x_continuous(breaks = seq(as.integer(min(REMICSEQ1OAS.PathSpread[,1]))-1, as.integer(max(REMICSEQ1OAS.PathSpread[,1])) + 1, .2)) +
ylab("Frequency")+
xlab("Path Spot Spread") +
theme(panel.grid.major = element_line(size = .25, color = "grey")) +
theme(axis.text = element_text(size = 15)) +
theme(axis.title = element_text(size = 20)) +
theme(legend.position = "none")
#al data for table 15
al.table <- array(data = NA, c(3,5))
for(i in 1:3){
for(s in 1: 5){
cpr = c(2, 6, 8, 10, 12)
cusip <<- Cusip(cusip = paste("BondLabSEQ", as.character(i) ,sep =""))
MortgageCashFlow <-  REMICCashFlow(bond.id = cusip,
trade.date = "01-10-2013",
settlement.date = "01-13-2013",
collateral.price = 105.75,
tranche.price = 100,
PrepaymentAssumption = "CPR",
CPR = cpr[s])
al.table[i,s] <- MortgageCashFlow@WAL
}
al.table <<- al.table
}
#al data for table 15
al.table <- array(data = NA, c(3,5))
for(i in 1:3){
for(s in 1: 5){
cpr = c(2, 6, 8, 10, 12)
MortgageCashFlow <-  REMICCashFlow(bond.id = paste("BondLabSEQ", as.character(i), sep = ""),
trade.date = "01-10-2013",
settlement.date = "01-13-2013",
collateral.price = 105.75,
tranche.price = 100,
PrepaymentAssumption = "CPR",
CPR = cpr[s])
al.table[i,s] <- MortgageCashFlow@WAL
}
al.table <<- al.table
}
View(al.table)
hist(al.table)
#al data for table 15
al.table <- array(data = NA, c(3,5))
for(i in 1:3){
for(s in 1: 5){
cpr = c(3, 6, 8, 10, 12)
MortgageCashFlow <-  REMICCashFlow(bond.id = paste("BondLabSEQ", as.character(i), sep = ""),
trade.date = "01-10-2013",
settlement.date = "01-13-2013",
collateral.price = 105.75,
tranche.price = 100,
PrepaymentAssumption = "CPR",
CPR = cpr[s])
al.table[i,s] <- MortgageCashFlow@WAL
}
al.table <<- al.table
}
xtable(al.table)
library("xtable", lib.loc="/Library/Frameworks/R.framework/Versions/3.0/Resources/library")
xtable(al.table)
rm(yield.table)
rm(cpr)
rm(i)
rm(s)
rm(price)
library(BondLab)
library(BondLab)
REMICPACSchedule(bond.id = "BondLabMBS4", lower.PSA = 75, upper.PSA = 250)
library(BondLab)
REMICPACSchedule(bond.id = "BondLabMBS4", lower.PSA = 75, upper.PSA = 250)
library(BondLab)
REMICPACSchedule(bond.id = "BondLabMBS4", lower.PSA = 75, upper.PSA = 250)
library(BondLab)
REMICPACSchedule(bond.id = "BondLabMBS4", lower.PSA = 75, upper.PSA = 250)
library(BondLab)
library(BondLab)
library(BondLab)
REMICPACSchedule(bond.id = "BondLabMBS4", lower.PSA = 75, upper.PSA = 250)
REMICPACSchedule(bond.id = "BondLabMBS4", lower.PSA = 75, upper.PSA = 250)
REMICPACSchedule(bond.id = "BondLabMBS4", lower.PSA = 75, upper.PSA = 250)
REMICPACSchedule(bond.id = "BondLabMBS4", lower.PSA = 75, upper.PSA = 250)
library(BondLab)
REMICPACSchedule(bond.id = "BondLabMBS4", lower.PSA = 75, upper.PSA = 250)
library(BondLab)
REMICPACSchedule(bond.id = "BondLabMBS4",
original.bal = 200000000,
settlement.date = "01/13/2013",
lower.PSA = 75,
upper.PSA = 250)
library(BondLab)
REMICPACSchedule(bond.id = "BondLabMBS4",
original.bal = 200000000,
settlement.date = "01/13/2013",
lower.PSA = 75,
upper.PSA = 250)
library(BondLab)
REMICPACSchedule(bond.id = "BondLabMBS4",
original.bal = 200000000,
settlement.date = "01/13/2013",
lower.PSA = 75,
upper.PSA = 250)
library(BondLab)
bond.id <- MBS(MBS.id = bond.id)
library(BondLab)
library(BondLab)
REMICPACSchedule(bond.id = "BondLabMBS4",
original.bal = 200000000,
settlement.date = "01/13/2013",
price = 105.75,
begin.cpr = .2,
end.cpr = 6,
seasoning.period = 30,
lower.PSA = 75,
upper.PSA = 250)
library(BondLab)
REMICPACSchedule(bond.id = "BondLabMBS4",
original.bal = 200000000,
settlement.date = "01/13/2013",
price = 105.75,
begin.cpr = .2,
end.cpr = 6,
seasoning.period = 30,
lower.PSA = 75,
upper.PSA = 250)
library(BondLab)
REMICPACSchedule(bond.id = "BondLabMBS4",
original.bal = 200000000,
settlement.date = "01/13/2013",
price = 105.75,
begin.cpr = .2,
end.cpr = 6,
seasoning.period = 30,
lower.PSA = 75,
upper.PSA = 250)
library(BondLab)
REMICPACSchedule(bond.id = "BondLabMBS4",
original.bal = 200000000,
settlement.date = "01/13/2013",
price = 105.75,
begin.cpr = .2,
end.cpr = 6,
seasoning.period = 30,
lower.PSA = 75,
upper.PSA = 250)
library(BondLab)
REMICPACSchedule(bond.id = "BondLabMBS4",
original.bal = 200000000,
settlement.date = "01/13/2013",
price = 105.75,
begin.cpr = .2,
end.cpr = 6,
seasoning.period = 30,
lower.PSA = 75,
upper.PSA = 250)
REMICPACSchedule(bond.id = "BondLabMBS4",
original.bal = 200000000,
trade.date = "01/10/2013"
settlement.date = "01/13/2013",
price = 105.75,
begin.cpr = .2,
end.cpr = 6,
seasoning.period = 30,
lower.PSA = 75,
upper.PSA = 250)
REMICPACSchedule(bond.id = "BondLabMBS4",
original.bal = 200000000,
trade.date = "01/10/2013"
settlement.date = "01/13/2013",
price = 105.75,
begin.cpr = .2,
end.cpr = 6,
seasoning.period = 30,
lower.PSA = 75,
upper.PSA = 250)
REMICPACSchedule(bond.id = "BondLabMBS4",
original.bal = 200000000,
trade.date = "01/10/2013",
settlement.date = "01/13/2013",
price = 105.75,
begin.cpr = .2,
end.cpr = 6,
seasoning.period = 30,
lower.PSA = 75,
upper.PSA = 250)
REMICPACSchedule(bond.id = "BondLabMBS4",
original.bal = 200000000,
trade.date = "01/10/2013",
settlement.date = "01/13/2013",
price = 105.75,
begin.cpr = .2,
end.cpr = 6,
seasoning.period = 30,
lower.PSA = 75,
upper.PSA = 250)
library(BondLab)
REMICPACSchedule(bond.id = "BondLabMBS4",
original.bal = 200000000,
trade.date = "01/10/2013",
settlement.date = "01/13/2013",
price = 105.75,
begin.cpr = .2,
end.cpr = 6,
seasoning.period = 30,
lower.PSA = 75,
upper.PSA = 250)
setwd("~/BondLab/R")
REMICPACSchedule(bond.id = "BondLabMBS4",
original.bal = 200000000,
trade.date = "01/10/2013",
settlement.date = "01/13/2013",
price = 105.75,
begin.cpr = .2,
end.cpr = 6,
seasoning.period = 30,
lower.PSA = 75,
upper.PSA = 250)
library(BondLab)
REMICPACSchedule(bond.id = "BondLabMBS4",
original.bal = 200000000,
trade.date = "01/10/2013",
settlement.date = "01/13/2013",
price = 105.75,
begin.cpr = .2,
end.cpr = 6,
seasoning.period = 30,
lower.PSA = 75,
upper.PSA = 250)
REMICPACSchedule(bond.id = "BondLabMBS4",
original.bal = 200000000,
trade.date = "01/10/2013",
settlement.date = "01/13/2013",
price = 105.75,
begin.cpr = .2,
end.cpr = 6,
seasoning.period = 30,
lower.PSA = 75,
upper.PSA = 250)
library(BondLab)
REMICPACSchedule(bond.id = "BondLabMBS4",
original.bal = 200000000,
trade.date = "01/10/2013",
settlement.date = "01/13/2013",
price = 105.75,
begin.cpr = .2,
end.cpr = 6,
seasoning.period = 30,
lower.PSA = 75,
upper.PSA = 250)
library(BondLab)
REMICPACSchedule(bond.id = "BondLabMBS4",
original.bal = 200000000,
trade.date = "01/10/2013",
settlement.date = "01/13/2013",
price = 105.75,
begin.cpr = .2,
end.cpr = 6,
seasoning.period = 30,
lower.PSA = 75,
upper.PSA = 250)
library(BondLab)
REMICPACSchedule(bond.id = "BondLabMBS4",
original.bal = 200000000,
trade.date = "01/10/2013",
settlement.date = "01/13/2013",
price = 105.75,
begin.cpr = .2,
end.cpr = 6,
seasoning.period = 30,
lower.PSA = 75,
upper.PSA = 250)
REMICPACSchedule(bond.id = "BondLabMBS4",
original.bal = 200000000,
trade.date = "01/10/2013",
settlement.date = "01/13/2013",
price = 105.75,
begin.cpr = .2,
end.cpr = 6,
seasoning.period = 30,
lower.PSA = 75,
upper.PSA = 250)
REMICPACSchedule(bond.id = "BondLabMBS4",
original.bal = 200000000,
trade.date = "01/10/2013",
settlement.date = "01/13/2013",
price = 105.75,
begin.cpr = .2,
end.cpr = 6,
seasoning.period = 30,
lower.PSA = 75,
upper.PSA = 250)
library(BondLab)
library(BondLab)
REMICPACSchedule(bond.id = "BondLabMBS4",
original.bal = 200000000,
trade.date = "01/10/2013",
settlement.date = "01/13/2013",
price = 105.75,
begin.cpr = .2,
end.cpr = 6,
seasoning.period = 30,
lower.PSA = 75,
upper.PSA = 250)
REMICSEQ1  <-  REMICAnalytics(bond.id = "BondLabSEQ1",
trade.date = "01-10-2013",
settlement.date = "01-13-2013",
method = "ns",
collateral.price = 105.75,
tranche.price = 100,
PrepaymentAssumption = "PPC",
begin.cpr = .2 * 1.25,
end.cpr = 6 * 1.25,
seasoning.period = 30)
library(BondLab)
