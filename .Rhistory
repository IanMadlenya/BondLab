if(nchar(Date) == 8){paste(substr(Date,1,6),"20", substr(Date,7,8),sep ="")}}
return(NewDate)}
DateCentury(Date = ClosedLoans[9961, "TERM DATE"])
DateCentury <- function(Date = "character"){
ThisDate = as.Date(Date, format = "%m/%d/%y", origin = "1900-01-01")
print(ThisDate)
CurrDate = as.Date(Sys.Date())
NewDate <- if(ThisDate > CurrDate == TRUE){
if(nchar(Date) == 6){paste(substr(Date,1,4),"19", substr(Date,5,6),sep ="")}
if(nchar(Date) == 7){paste(substr(Date,1,5),"19", substr(Date,6,7),sep ="")}
if(nchar(Date) == 8){paste(substr(Date,1,6),"19", substr(Date,7,8),sep ="")}}
if(ThisDate < as.Date("2000-01-01", format = "Y-%m-%d", origin = "1900-01-01") == TRUE){
if(nchar(Date) == 6){paste(substr(Date,1,4),"19", substr(Date,5,6),sep ="")}
if(nchar(Date) == 7){paste(substr(Date,1,5),"19", substr(Date,6,7),sep ="")}
if(nchar(Date) == 8){paste(substr(Date,1,6),"19", substr(Date,7,8),sep ="")}}
if(ThisDate >= as.Date("2000-01-01", format = "Y-%m-%d", origin = "1900-01-01") == TRUE){
if(nchar(Date) == 6){paste(substr(Date,1,4),"20", substr(Date,5,6),sep ="")}
if(nchar(Date) == 7){paste(substr(Date,1,5),"20", substr(Date,6,7),sep ="")}
if(nchar(Date) == 8){paste(substr(Date,1,6),"20", substr(Date,7,8),sep ="")}}
return(NewDate)}
DateCentury <- function(Date = "character"){
ThisDate = as.Date(Date, format = "%m/%d/%y", origin = "1900-01-01")
print(ThisDate)
CurrDate = as.Date(Sys.Date())
NewDate <- if(ThisDate > CurrDate){
if(nchar(Date) == 6){paste(substr(Date,1,4),"19", substr(Date,5,6),sep ="")}
if(nchar(Date) == 7){paste(substr(Date,1,5),"19", substr(Date,6,7),sep ="")}
if(nchar(Date) == 8){paste(substr(Date,1,6),"19", substr(Date,7,8),sep ="")}}
if(ThisDate < as.Date("2000-01-01", format = "Y-%m-%d", origin = "1900-01-01")){
if(nchar(Date) == 6){paste(substr(Date,1,4),"19", substr(Date,5,6),sep ="")}
if(nchar(Date) == 7){paste(substr(Date,1,5),"19", substr(Date,6,7),sep ="")}
if(nchar(Date) == 8){paste(substr(Date,1,6),"19", substr(Date,7,8),sep ="")}}
if(ThisDate >= as.Date("2000-01-01", format = "Y-%m-%d", origin = "1900-01-01")){
if(nchar(Date) == 6){paste(substr(Date,1,4),"20", substr(Date,5,6),sep ="")}
if(nchar(Date) == 7){paste(substr(Date,1,5),"20", substr(Date,6,7),sep ="")}
if(nchar(Date) == 8){paste(substr(Date,1,6),"20", substr(Date,7,8),sep ="")}}
return(NewDate)}
DateCentury(Date = ClosedLoans[9961, "TERM DATE"])
DateCentury <- function(Date = "character"){
ThisDate = as.Date(Date, format = "%m/%d/%y", origin = "1900-01-01")
print(ThisDate)
CurrDate = as.Date(Sys.Date())
NewDate <- if(ThisDate > CurrDate){
if(nchar(Date) == 6){paste(substr(Date,1,4),"19", substr(Date,5,6),sep ="")}
if(nchar(Date) == 7){paste(substr(Date,1,5),"19", substr(Date,6,7),sep ="")}
if(nchar(Date) == 8){paste(substr(Date,1,6),"19", substr(Date,7,8),sep ="")}}
if(ThisDate < as.Date("2000-01-01", format = "Y-%m-%d", origin = "1900-01-01") == TRUE){
if(nchar(Date) == 6){paste(substr(Date,1,4),"19", substr(Date,5,6),sep ="")}
if(nchar(Date) == 7){paste(substr(Date,1,5),"19", substr(Date,6,7),sep ="")}
if(nchar(Date) == 8){paste(substr(Date,1,6),"19", substr(Date,7,8),sep ="")}}
if(ThisDate >= as.Date("2000-01-01", format = "Y-%m-%d", origin = "1900-01-01")){
if(nchar(Date) == 6){paste(substr(Date,1,4),"20", substr(Date,5,6),sep ="")}
if(nchar(Date) == 7){paste(substr(Date,1,5),"20", substr(Date,6,7),sep ="")}
if(nchar(Date) == 8){paste(substr(Date,1,6),"20", substr(Date,7,8),sep ="")}}
return(NewDate)}
DateCentury <- function(Date = "character"){
ThisDate = as.Date(Date, format = "%m/%d/%y", origin = "1900-01-01")
print(ThisDate)
CurrDate = as.Date(Sys.Date())
NewDate <- if(ThisDate > CurrDate){
if(nchar(Date) == 6){paste(substr(Date,1,4),"19", substr(Date,5,6),sep ="")}
if(nchar(Date) == 7){paste(substr(Date,1,5),"19", substr(Date,6,7),sep ="")}
if(nchar(Date) == 8){paste(substr(Date,1,6),"19", substr(Date,7,8),sep ="")}}
if(ThisDate < as.Date("2000-01-01", format = "Y-%m-%d", origin = "1900-01-01")){
if(nchar(Date) == 6){paste(substr(Date,1,4),"19", substr(Date,5,6),sep ="")}
if(nchar(Date) == 7){paste(substr(Date,1,5),"19", substr(Date,6,7),sep ="")}
if(nchar(Date) == 8){paste(substr(Date,1,6),"19", substr(Date,7,8),sep ="")}}
if(ThisDate >= as.Date("2000-01-01", format = "Y-%m-%d", origin = "1900-01-01")){
if(nchar(Date) == 6){paste(substr(Date,1,4),"20", substr(Date,5,6),sep ="")}
if(nchar(Date) == 7){paste(substr(Date,1,5),"20", substr(Date,6,7),sep ="")}
if(nchar(Date) == 8){paste(substr(Date,1,6),"20", substr(Date,7,8),sep ="")}}
return(NewDate)}
DateCentury(Date = ClosedLoans[9961, "TERM DATE"])
DateCentury <- function(Date = "character"){
ThisDate = as.Date(Date, format = "%m/%d/%y", origin = "1900-01-01")
print(ThisDate)
CurrDate = as.Date(Sys.Date())
NewDate <- if(ThisDate > CurrDate){
if(nchar(Date) == 6){paste(substr(Date,1,4),"19", substr(Date,5,6),sep ="")}
if(nchar(Date) == 7){paste(substr(Date,1,5),"19", substr(Date,6,7),sep ="")}
if(nchar(Date) == 8){paste(substr(Date,1,6),"19", substr(Date,7,8),sep ="")}
} else {
if(ThisDate < as.Date("2000-01-01", format = "Y-%m-%d", origin = "1900-01-01")){
if(nchar(Date) == 6){paste(substr(Date,1,4),"19", substr(Date,5,6),sep ="")}
if(nchar(Date) == 7){paste(substr(Date,1,5),"19", substr(Date,6,7),sep ="")}
if(nchar(Date) == 8){paste(substr(Date,1,6),"19", substr(Date,7,8),sep ="")}
} else {
if(ThisDate >= as.Date("2000-01-01", format = "Y-%m-%d", origin = "1900-01-01")){
if(nchar(Date) == 6){paste(substr(Date,1,4),"20", substr(Date,5,6),sep ="")}
if(nchar(Date) == 7){paste(substr(Date,1,5),"20", substr(Date,6,7),sep ="")}
if(nchar(Date) == 8){paste(substr(Date,1,6),"20", substr(Date,7,8),sep ="")}
}
}}
return(NewDate)}
DateCentury(Date = ClosedLoans[9961, "TERM DATE"])
DateCentury(Date = ClosedLoans[39, "TERM DATE"])
DateCentury(Date = ClosedLoans[9961, "TERM DATE"])
ClosedLoans[,"TERM DATE"]
DateCentury(Date = ClosedLoans[9531, "TERM DATE"])
DateCentury <- function(Date = "character"){
ThisDate = as.Date(Date, format = "%m/%d/%y", origin = "1900-01-01")
print(ThisDate)
CurrDate = as.Date(Sys.Date())
NewDate <- if(ThisDate > CurrDate){
if(nchar(Date) == 6){
paste(substr(Date,1,4),"19", substr(Date,5,6),sep ="")
} else {
if(nchar(Date) == 7){paste(substr(Date,1,5),"19", substr(Date,6,7),sep ="")
} else {
paste(substr(Date,1,6),"19", substr(Date,7,8),sep ="")
}
} else {
if(ThisDate < as.Date("2000-01-01", format = "Y-%m-%d", origin = "1900-01-01")){
if(nchar(Date) == 6){
paste(substr(Date,1,4),"19", substr(Date,5,6),sep ="")
} else {
if(nchar(Date) == 7){paste(substr(Date,1,5),"19", substr(Date,6,7),sep ="")
} else {
paste(substr(Date,1,6),"19", substr(Date,7,8),sep ="")
}
}  else {
if(nchar(Date) == 6){paste(substr(Date,1,4),"20", substr(Date,5,6),sep ="")
} else {
if(nchar(Date) == 7){paste(substr(Date,1,5),"20", substr(Date,6,7),sep ="")
} else {
paste(substr(Date,1,6),"20", substr(Date,7,8),sep ="")
}
DateCentury <- function(Date = "character"){
ThisDate = as.Date(Date, format = "%m/%d/%y", origin = "1900-01-01")
print(ThisDate)
CurrDate = as.Date(Sys.Date())
NewDate <- if(ThisDate > CurrDate){
if(nchar(Date) == 6){
paste(substr(Date,1,4),"19", substr(Date,5,6),sep ="")
} else {
if(nchar(Date) == 7){paste(substr(Date,1,5),"19", substr(Date,6,7),sep ="")
} else {
paste(substr(Date,1,6),"19", substr(Date,7,8),sep ="")
}
} else {
if(ThisDate < as.Date("2000-01-01", format = "Y-%m-%d", origin = "1900-01-01")){
if(nchar(Date) == 6){
paste(substr(Date,1,4),"19", substr(Date,5,6),sep ="")
} else {
if(nchar(Date) == 7){paste(substr(Date,1,5),"19", substr(Date,6,7),sep ="")
} else {
paste(substr(Date,1,6),"19", substr(Date,7,8),sep ="")
}
}  else {
if(nchar(Date) == 6){paste(substr(Date,1,4),"20", substr(Date,5,6),sep ="")
} else {
if(nchar(Date) == 7){paste(substr(Date,1,5),"20", substr(Date,6,7),sep ="")
} else {
paste(substr(Date,1,6),"20", substr(Date,7,8),sep ="")
}
return(NewDate)}
DateCentury(Date = ClosedLoans[9531, "TERM DATE"])
DateCentury <- function(Date = "character"){
ThisDate = as.Date(Date, format = "%m/%d/%y", origin = "1900-01-01")
print(ThisDate)
CurrDate = as.Date(Sys.Date())
Century = as.Date("2001-01-01", format = "%Y-%m-%d", origin = "1900-01-01")
NewDate <- if(ThisDate > CurrDate){
if(nchar(Date) == 6){
paste(substr(Date,1,4),"19", substr(Date,5,6),sep ="")
} else {
if(nchar(Date) == 7){paste(substr(Date,1,5),"19", substr(Date,6,7),sep ="")
} else {
paste(substr(Date,1,6),"19", substr(Date,7,8),sep ="")
}
} else {
if(ThisDate < Century){
if(nchar(Date) == 6){
paste(substr(Date,1,4),"19", substr(Date,5,6),sep ="")
} else {
if(nchar(Date) == 7){paste(substr(Date,1,5),"19", substr(Date,6,7),sep ="")
} else {
paste(substr(Date,1,6),"19", substr(Date,7,8),sep ="")
}
}  else {
if(nchar(Date) == 6){paste(substr(Date,1,4),"20", substr(Date,5,6),sep ="")
} else {
if(nchar(Date) == 7){paste(substr(Date,1,5),"20", substr(Date,6,7),sep ="")
} else {
paste(substr(Date,1,6),"20", substr(Date,7,8),sep ="")
}
return(NewDate)}
DateCentury(Date = ClosedLoans[9531, "TERM DATE"])
ClosedLoans <- read.delim(file = Closed_Loans, header = TRUE, sep = "\t",
stringsAsFactors = FALSE)
colnames(ClosedLoans) <- gsub("\\.", " ", colnames(ClosedLoans))
colnames(ClosedLoans) <- gsub("\\_", " ", colnames(ClosedLoans))
DateCentury <- function(Date = "character"){
ThisDate = as.Date(Date, format = "%m/%d/%y", origin = "1900-01-01")
CurrDate = as.Date(Sys.Date())
Century = as.Date("2001-01-01", format = "%Y-%m-%d", origin = "1900-01-01")
NewDate <- if(ThisDate > CurrDate){
if(nchar(Date) == 6){
paste(substr(Date,1,4),"19", substr(Date,5,6),sep ="")
} else {
if(nchar(Date) == 7){paste(substr(Date,1,5),"19", substr(Date,6,7),sep ="")
} else {
paste(substr(Date,1,6),"19", substr(Date,7,8),sep ="")
}
} else {
if(ThisDate < Century){
if(nchar(Date) == 6){
paste(substr(Date,1,4),"19", substr(Date,5,6),sep ="")
} else {
if(nchar(Date) == 7){paste(substr(Date,1,5),"19", substr(Date,6,7),sep ="")
} else {
paste(substr(Date,1,6),"19", substr(Date,7,8),sep ="")
}
}  else {
if(nchar(Date) == 6){paste(substr(Date,1,4),"20", substr(Date,5,6),sep ="")
} else {
if(nchar(Date) == 7){paste(substr(Date,1,5),"20", substr(Date,6,7),sep ="")
} else {
paste(substr(Date,1,6),"20", substr(Date,7,8),sep ="")
}
return(NewDate)}
LoanCount <- as.numeric(nrow(ClosedLoans))
DateCentury(Date = ClosedLoans[,"INITIAL ENDORSEMENT DATE"]
DateCentury(Date = ClosedLoans[,"INITIAL ENDORSEMENT DATE"])
ClosedLoans[10000, "INITIAL ENDORSEMENT DATE"]
ClosedLoans[10000, "MATURITY DATE"]
ClosedLoans[10000, "TERM DATE"]
as.Date("11/22/13")
as.Date("11/22/13", format = "%m/%d/%y)
as.Date("11/22/13", format = "%m/%d/%y")
as.Date(Date = ClosedLoans[10000, "FIRST PAYMENT DATE"])
as.Date(Date = ClosedLoans[10000, "TERM DATE"])
DateCentury(Date = ClosedLoans[10000, "TERM DATE"])
DateCentury(Date = ClosedLoans[10000, "INITIAL ENDORSEMENT DATE"])
DateCentury(Date = ClosedLoans[, "INITIAL ENDORSEMENT DATE"])
apply(ClosedLoans,DateCentury, Date = ClosedLoans[,"INITIAL ENDORSEMENT DATE"])
apply(ClosedLoans[,"INITIAL ENDORESEMENT DATE"], MARGIN = 2, FUN = DateCentury)
apply(ClosedLoans[,"INITIAL ENDORESEMENT DATE"], FUN = DateCentury)
apply(ClosedLoans[,"INITIAL ENDORSEMENT DATE"], FUN = DateCentury)
length(ClosedLoans[, "INITIAL ENDORSEMENT DATE"])
apply(ClosedLoans, MARGIN = 2, FUN = DateCentury, Date = ClosedLoans[,"INITIAL ENDORSEMENT DATE"])
apply(ClosedLoans, FUN = DateCentury, Date = ClosedLoans[,"INITIAL ENDORSEMENT DATE"])
apply(ClosedLoans, MARGIN = 2, FUN = DateCentury, Date = ClosedLoans[,"INITIAL ENDORSEMENT DATE"])
lapply(x = ClosedLoans[,"INITIAL ENDORSEMENT DATE"], FUN = DateCentury())
ClosedLoans[,"INITIAL ENDORSEMENT DATE"] <-
DateCentury(Date = ClosedLoans[,"INITIAL ENDORSEMENT DATE"])
DateCentury(Date = ClosedLoans[,"MATURITY DATE"])
DateCentury(Date = ClosedLoans[,"FIRST PAYMENT DATE"])
# convert project numbers to characters
ClosedLoans[,"HUD PROJECT NUMBER"] <-
as.character(ClosedLoans[,"HUD PROJECT NUMBER"])
# convert original loan amount and current loan amount to numeric
ClosedLoans[,"ORIGINAL MORTGAGE AMOUNT"] <-
as.numeric(gsub("\\,", "", ClosedLoans[,"ORIGINAL MORTGAGE AMOUNT"]))
# Format Dates for calculations
for(j in 1:LoanCount){
ClosedLoans[j,"INITIAL ENDORSEMENT DATE"] <-
DateCentury(Date = ClosedLoans[j,"INITIAL ENDORSEMENT DATE"])
ClosedLoans[j,"INITIAL ENDORSEMENT DATE"] <-
as.Date(ClosedLoans[j,"INITIAL ENDORSEMENT DATE"],
format = "%m/%d/%Y", origin = "1900-01-01")
ClosedLoans[j,"FINAL ENDORSEMENT DATE"] <-
as.Date(ClosedLoans[j,"FINAL ENDORSEMENT DATE"],
format = "%m/%d/%y", origin = "1900-01-01")
ClosedLoans[j,"FIRST PAYMENT DATE"] <-
DateCentury(Date = ClosedLoans[j,"FIRST PAYMENT DATE"])
ClosedLoans[j,"FIRST PAYMENT DATE"] <-
as.Date(ClosedLoans[j,"FIRST PAYMENT DATE"],
format = "%m/%d/%Y", origin = "1900-01-01")
ClosedLoans[j,"MATURITY DATE"] <-
DateCentury(Date = ClosedLoans[j,"MATURITY DATE"])
ClosedLoans[j,"MATURITY DATE"] <-
as.Date(ClosedLoans[j,"MATURITY DATE"],
format = "%m/%d/%Y", origin = "1900-01-01")
ClosedLoans[j,"TERM DATE"] <-
DateCentury(Date = ClosedLoans[j,"TERM DATE"])
ClosedLoans[j,"TERM DATE"] <-
as.Date(ClosedLoans[j,"TERM DATE"],
format = "%m/%d/%Y", origin = "1900-01-01")}
for(j in 1:1){
ClosedLoans[j,"INITIAL ENDORSEMENT DATE"] <-
DateCentury(Date = ClosedLoans[j,"INITIAL ENDORSEMENT DATE"])}
ClosedLoans[,"INITIAL ENDORSEMENT DATE"] <-
DateCentury(Date = ClosedLoans[,"INITIAL ENDORSEMENT DATE"])
DateCentury <- function(Date = "character"){
ThisDate = as.Date(Date, format = "%m/%d/%y", origin = "1900-01-01")
CurrDate = as.Date(Sys.Date())
Century = as.Date("2001-01-01", format = "%Y-%m-%d", origin = "1900-01-01")
NewDate <- if(ThisDate > CurrDate){
if(nchar(Date) == 6){
paste(substr(Date,1,4),"19", substr(Date,5,6),sep ="")
} else {
if(nchar(Date) == 7){paste(substr(Date,1,5),"19", substr(Date,6,7),sep ="")
} else {
paste(substr(Date,1,6),"19", substr(Date,7,8),sep ="")
}
} else {
if(ThisDate < Century){
if(nchar(Date) == 6){
paste(substr(Date,1,4),"19", substr(Date,5,6),sep ="")
} else {
if(nchar(Date) == 7){paste(substr(Date,1,5),"19", substr(Date,6,7),sep ="")
} else {
paste(substr(Date,1,6),"19", substr(Date,7,8),sep ="")
}
}  else {
if(nchar(Date) == 6){paste(substr(Date,1,4),"20", substr(Date,5,6),sep ="")
} else {
if(nchar(Date) == 7){paste(substr(Date,1,5),"20", substr(Date,6,7),sep ="")
} else {
paste(substr(Date,1,6),"20", substr(Date,7,8),sep ="")
}
return(NewDate)}
losedLoans[,"INITIAL ENDORSEMENT DATE"] <-
DateCentury(Date = ClosedLoans[,"INITIAL ENDORSEMENT DATE"])
ClosedLoans[,"FIRST PAYMENT DATE"] <-
DateCentury(Date = ClosedLoans[,"FIRST PAYMENT DATE"])
ClosedLoans <- read.delim(file = Closed_Loans, header = TRUE, sep = "\t",
stringsAsFactors = FALSE)
colnames(ClosedLoans) <- gsub("\\.", " ", colnames(ClosedLoans))
colnames(ClosedLoans) <- gsub("\\_", " ", colnames(ClosedLoans))
DateCentury(Date = ClosedLoans[,"FINAL PAYMENT DATE"])
DateCentury <- function(Date = "character"){
ThisDate = as.Date(Date, format = "%m/%d/%y", origin = "1900-01-01")
CurrDate = as.Date(Sys.Date())
Century = as.Date("2001-01-01", format = "%Y-%m-%d", origin = "1900-01-01")
NewDate <- if(ThisDate > CurrDate){
if(nchar(Date) == 6){
paste(substr(Date,1,4),"19", substr(Date,5,6),sep ="")
} else {
if(nchar(Date) == 7){paste(substr(Date,1,5),"19", substr(Date,6,7),sep ="")
} else {
paste(substr(Date,1,6),"19", substr(Date,7,8),sep ="")
}
} else {
if(ThisDate < Century){
if(nchar(Date) == 6){
paste(substr(Date,1,4),"19", substr(Date,5,6),sep ="")
} else {
if(nchar(Date) == 7){paste(substr(Date,1,5),"19", substr(Date,6,7),sep ="")
} else {
paste(substr(Date,1,6),"19", substr(Date,7,8),sep ="")
}
}  else {
if(nchar(Date) == 6){paste(substr(Date,1,4),"20", substr(Date,5,6),sep ="")
} else {
if(nchar(Date) == 7){paste(substr(Date,1,5),"20", substr(Date,6,7),sep ="")
} else {
paste(substr(Date,1,6),"20", substr(Date,7,8),sep ="")
}
return(NewDate)}
DateCentury("1/1/47")
DateCentury(ClosedLoans[,"FIRST PAYMENT DATE"])
DateCentury(ClosedLoans[9993,"FIRST PAYMENT DATE"])
ClosedLoans[9993,"FIRST PAYMENT DATE"]
as.Date(ClosedLoans[9993,"FIRST PAYMENT DATE"], format = "%m/"%d/%y", origin = "1900-01-01)
as.Date(ClosedLoans[9993,"FIRST PAYMENT DATE"], format = "%m/"%d/%y", origin = "1900-01-01")
as.Date(ClosedLoans[9993,"FIRST PAYMENT DATE"], format = "%m/"%d/%y")
as.Date(ClosedLoans[9993,"FIRST PAYMENT DATE"], format = "%m/%d/%y")
DateCentury <- function(Date = "character"){
ThisDate = as.Date(Date, format = "%m/%d/%y", origin = "1900-01-01")
CurrDate = as.Date(Sys.Date())
Century = as.Date("2000-01-01", format = "%Y-%m-%d", origin = "1900-01-01")
NewDate <- if(ThisDate > CurrDate){
if(nchar(Date) == 6){
paste(substr(Date,1,4),"19", substr(Date,5,6),sep ="")
} else {
if(nchar(Date) == 7){paste(substr(Date,1,5),"19", substr(Date,6,7),sep ="")
} else {
paste(substr(Date,1,6),"19", substr(Date,7,8),sep ="")
}
} else {
if(ThisDate < Century){
if(nchar(Date) == 6){
paste(substr(Date,1,4),"19", substr(Date,5,6),sep ="")
} else {
if(nchar(Date) == 7){paste(substr(Date,1,5),"19", substr(Date,6,7),sep ="")
} else {
paste(substr(Date,1,6),"19", substr(Date,7,8),sep ="")
}
}  else {
if(nchar(Date) == 6){paste(substr(Date,1,4),"20", substr(Date,5,6),sep ="")
} else {
if(nchar(Date) == 7){paste(substr(Date,1,5),"20", substr(Date,6,7),sep ="")
} else {
paste(substr(Date,1,6),"20", substr(Date,7,8),sep ="")
}
return(NewDate)}
DateCentury(Date = ClosedLoans[,"INITIAL ENDORSEMENT DATE"])
DateCentury <- function(Date = "character"){
ThisDate = as.Date(Date, format = "%m/%d/%y", origin = "1900-01-01")
CurrDate = as.Date(Sys.Date())
Century = as.Date("1999-12-31", format = "%Y-%m-%d", origin = "1900-01-01")
NewDate <- if(ThisDate > CurrDate){
if(nchar(Date) == 6){
paste(substr(Date,1,4),"19", substr(Date,5,6),sep ="")
} else {
if(nchar(Date) == 7){paste(substr(Date,1,5),"19", substr(Date,6,7),sep ="")
} else {
paste(substr(Date,1,6),"19", substr(Date,7,8),sep ="")
}
} else {
if(ThisDate <= Century){
if(nchar(Date) == 6){
paste(substr(Date,1,4),"19", substr(Date,5,6),sep ="")
} else {
if(nchar(Date) == 7){paste(substr(Date,1,5),"19", substr(Date,6,7),sep ="")
} else {
paste(substr(Date,1,6),"19", substr(Date,7,8),sep ="")
}
}  else {
if(nchar(Date) == 6){paste(substr(Date,1,4),"20", substr(Date,5,6),sep ="")
} else {
if(nchar(Date) == 7){paste(substr(Date,1,5),"20", substr(Date,6,7),sep ="")
} else {
paste(substr(Date,1,6),"20", substr(Date,7,8),sep ="")
}
return(NewDate)}
DateCentury(Date = ClosedLoans[,"INITIAL ENDORSEMENT DATE"])
ClosedLoans[9964,"INITIAL ENDORSEMENT DATE"]
DateCentury(ClosedLoans[9964,"INITIAL ENDORSEMENT DATE"])
LoanCount <- as.numeric(nrow(ClosedLoans))
# convert project numbers to characters
ClosedLoans[,"HUD PROJECT NUMBER"] <-
as.character(ClosedLoans[,"HUD PROJECT NUMBER"])
# convert original loan amount and current loan amount to numeric
ClosedLoans[,"ORIGINAL MORTGAGE AMOUNT"] <-
as.numeric(gsub("\\,", "", ClosedLoans[,"ORIGINAL MORTGAGE AMOUNT"]))
ClosedLoans[,"INITIAL ENDORSEMENT DATE"] <-
DateCentury(Date = ClosedLoans[,"INITIAL ENDORSEMENT DATE"])
ClosedLoans[,"INITIAL ENDORSEMENT DATE"] <-
as.Date(ClosedLoans[,"INITIAL ENDORSEMENT DATE"],
format = "%m/%d/%Y", origin = "1900-01-01")
ClosedLoans[,"FINAL ENDORSEMENT DATE"] <-
as.Date(ClosedLoans[,"FINAL ENDORSEMENT DATE"],
format = "%m/%d/%y", origin = "1900-01-01")
ClosedLoans[,"FIRST PAYMENT DATE"] <-
DateCentury(Date = ClosedLoans[,"FIRST PAYMENT DATE"])
ClosedLoans[,"FIRST PAYMENT DATE"] <-
as.Date(ClosedLoans[,"FIRST PAYMENT DATE"],
format = "%m/%d/%Y", origin = "1900-01-01")
ClosedLoans[,"MATURITY DATE"] <-
DateCentury(Date = ClosedLoans[,"MATURITY DATE"])
ClosedLoans[,"MATURITY DATE"] <-
as.Date(ClosedLoans[,"MATURITY DATE"],
format = "%m/%d/%Y", origin = "1900-01-01")
ClosedLoans[,"TERM DATE"] <-
DateCentury(Date = ClosedLoans[,"TERM DATE"])
ClosedLoans[,"TERM DATE"] <-
as.Date(ClosedLoans[,"TERM DATE"],
format = "%m/%d/%Y", origin = "1900-01-01")
Rows = as.numeric(nrow(ClosedLoans) * 480)
Columns = as.numeric(length(matrixnames))
ClosedLoans[9964,"INITIAL ENDORSEMENT DATE"]
ClosedLoans <- read.delim(file = Closed_Loans, header = TRUE, sep = "\t",
stringsAsFactors = FALSE)
colnames(ClosedLoans) <- gsub("\\.", " ", colnames(ClosedLoans))
colnames(ClosedLoans) <- gsub("\\_", " ", colnames(ClosedLoans))
DateCentury(ClosedLoans[,"INITIAL ENDORSEMENT DATE"])
DateCentury(ClosedLoans[9996,"INITIAL ENDORSEMENT DATE"])
DateCentury(ClosedLoans[1:48679,"INITIAL ENDORSEMENT DATE"])
ClosedLoans[9964,"INITIAL ENDORSEMENT DATE"]
DateCentury(ClosedLoans[9964,"INITIAL ENDORSEMENT DATE"])
DateCentury(ClosedLoans[,"INITIAL ENDORSEMENT DATE"])
test <- DateCentury(ClosedLoans[,"INITIAL ENDORSEMENT DATE"])
test
for(i in 1:LoanCount){
DateCentury(ClosedLoans[i, "INITIAL ENDORSEMENT DATE"])}
test <- for(i in 1:LoanCount){
DateCentury(ClosedLoans[i, "INITIAL ENDORSEMENT DATE"])}
test[9964]
test
length(test)
for(i in 1:LoanCount){
vector <- NULL
vector[i] <- DateCentury(ClosedLoans[i, "INITIAL ENDORSEMENT DATE"])}
vector[9964]
DateCentury(ClosedLoans[9964, "INITIAL ENDORSEMENT DATE"])
for(i in 1:LoanCount){
print(DateCentury(ClosedLoans[, "INITIAL ENDORSEMENT DATE"]))}
warnings()
DateCentury("2001/01/01")
DateCentury("01/01/2001")
DateCentury("01/01/1999")
DateCentury("01/01/99")
DateCentury("01/01/01")
DateCentury("01/01/55")
DateCentury("01/1/55")
DateCentury("1/1/55")
DateCentury("10/10/55")
DateCentury("10/1/55")
DateCentury("1/10/55")
DateCentury(ClosedLoans[,"TERM DATE"])
DateCentury(ClosedLoans[1,"TERM DATE"])
DateCentury(ClosedLoans[2,"TERM DATE"])
DateCentury(ClosedLoans[7,"TERM DATE"])
sapply(ClosedLoans[1:48679, "TERM DATE"])
sapply(ClosedLoans[1:48679, "TERM DATE"], DateCentury())
sapply(ClosedLoans[1:48679, "TERM DATE"], DateCentury)
Data <- ClosedLoan[1:100,]
Data <- ClosedLoans[1:100,]
View(Data)
dput(Data)
as.Date("01/01/1969")
as.Date("01/01/69")
as.Date("01/01/69", format = "%m/%d/%y")
as.Date("01/01/68", format = "%m/%d/%y")
as.Date("12/31/68", format = "%m/%d/%y")
as.Date("12/29/68", format = "%m/%d/%y")
install.packages("rjson")
library("rjson", lib.loc="/Library/Frameworks/R.framework/Versions/3.3/Resources/library")
library(BondLab)
